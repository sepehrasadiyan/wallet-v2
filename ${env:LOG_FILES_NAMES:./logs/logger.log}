2024-07-15T03:57:57.058+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T03:57:57.147+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 41208 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T03:57:57.151+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T03:57:59.018+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T03:57:59.118+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 87 ms. Found 3 JPA repository interfaces.
2024-07-15T03:57:59.423+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T03:57:59.433+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T03:57:59.671+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T03:58:00.164+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T03:58:00.167+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T03:58:00.190+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T03:58:00.234+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T03:58:00.243+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T03:58:00.599+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 1183730d4b3d3a8422191e6545b447b0fd4427fc2865b454889fc2adec7b63b0
2024-07-15T03:58:01.347+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.113235775S
2024-07-15T03:58:01.354+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T03:58:01.354+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T03:58:01.355+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T03:58:01.359+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T03:58:01.362+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T03:58:01.560+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: d27046020780b8784ca8c8e61e379795ee0b9e18b2f6ae0712c0e02fb85d8cc6
2024-07-15T03:58:01.970+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32772/test using query 'SELECT 1'
2024-07-15T03:58:59.387+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T03:58:59.523+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 41957 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T03:58:59.533+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T03:59:01.349+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T03:59:01.436+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 75 ms. Found 3 JPA repository interfaces.
2024-07-15T03:59:01.710+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T03:59:01.712+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T03:59:01.879+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T03:59:02.345+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T03:59:02.348+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T03:59:02.370+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T03:59:02.415+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T03:59:02.421+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T03:59:02.668+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 3cdcc0612c3b87a29665406f4c0c972d0766210c0fdbf357921a487b49265a1b
2024-07-15T03:59:03.395+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.979683177S
2024-07-15T03:59:03.402+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T03:59:03.403+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T03:59:03.404+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T03:59:03.408+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T03:59:03.410+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T03:59:03.571+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: c63a41fcfc99c54e324b76386a49dbbbd91782b6c8ef88a0b396fd965d04ff8c
2024-07-15T03:59:03.960+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32774/test using query 'SELECT 1'
2024-07-15T03:59:29.698+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT26.290289898S
2024-07-15T03:59:29.708+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32774/test)
2024-07-15T03:59:32.545+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T03:59:32.591+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T03:59:32.597+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T03:59:32.602+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T03:59:32.774+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T03:59:32.779+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 33210 ms
2024-07-15T03:59:33.934+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T03:59:34.377+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5cb64b9c
2024-07-15T03:59:34.380+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T03:59:35.096+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T03:59:35.097+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T03:59:35.098+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  ChangeLogParseException
2024-07-15T03:59:35.099+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  classpath:/db/changelog/db.changelog-master.yaml does not exist
2024-07-15T03:59:35.099+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  4.27.0
2024-07-15T03:59:35.100+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T03:59:35.105+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2024-07-15T03:59:35.106+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T03:59:35.122+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T03:59:35.128+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T03:59:35.163+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T03:59:35.186+03:30 | ERROR | [main] | o.s.b.d.LoggingFailureAnalysisReporter | ,, | ***************************APPLICATION FAILED TO START***************************Description:Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.Action:Make sure a Liquibase changelog is present at the configured path.
2024-07-15T03:59:35.196+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@457dc809] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3ad5f99 testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@72b4ecb2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@47dbb1e2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d24ffa1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@50eca7c6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7e3f95fe, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T04:07:52.880+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:07:52.940+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 43311 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:07:52.946+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:07:54.726+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:07:54.819+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 81 ms. Found 3 JPA repository interfaces.
2024-07-15T04:07:55.100+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:07:55.103+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:07:55.251+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:07:55.674+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:07:55.677+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:07:55.703+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:07:55.753+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:07:55.760+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:07:55.955+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 3317787285cd42e8e774b6036e17a8630d32463d7543f87250043aa9c4d6cc0e
2024-07-15T04:07:56.587+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.834038795S
2024-07-15T04:07:56.597+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:07:56.597+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:07:56.598+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:07:56.601+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:07:56.602+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:07:56.778+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 9b5e361e9fccdf567514d5d8da356ffb794ba255dcdf60f94b1225cd25693f3a
2024-07-15T04:07:57.211+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32776/test using query 'SELECT 1'
2024-07-15T04:08:19.338+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.736941192S
2024-07-15T04:08:19.338+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32776/test)
2024-07-15T04:08:20.605+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:08:20.630+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:08:20.634+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:08:20.635+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:08:20.711+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:08:20.713+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 27737 ms
2024-07-15T04:08:21.461+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:08:21.781+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65852d05
2024-07-15T04:08:21.784+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:08:22.479+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T04:08:22.480+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T04:08:22.481+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  ChangeLogParseException
2024-07-15T04:08:22.482+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  ERROR: The file 'classpath:db/changelog/db.changelog-master.xml' was not found.The file property cannot be configured with a fully qualified path, but must be a relative path on the property,and any local or remote base of the path set on the search path.
2024-07-15T04:08:22.483+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  4.27.0
2024-07-15T04:08:22.483+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:08:22.488+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: ERROR: The file 'classpath:db/changelog/db.changelog-master.xml' was not found.The file property cannot be configured with a fully qualified path, but must be a relative path on the property,and any local or remote base of the path set on the search path.
2024-07-15T04:08:22.490+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:08:22.509+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:08:22.515+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T04:08:22.546+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T04:08:22.578+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: ERROR: The file 'classpath:db/changelog/db.changelog-master.xml' was not found.---The file property cannot be configured with a fully qualified path, but must be a relative path on the property,---and any local or remote base of the path set on the search path.---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)---	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)---	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)---	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)---	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)---	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)---	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
2024-07-15T04:08:22.599+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@2a10407e] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6abbdcde testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@41ad6c00 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@47dbb1e2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d24ffa1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@50eca7c6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7e3f95fe, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T04:09:06.630+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:09:06.788+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 44140 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:09:06.793+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:09:08.634+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:09:08.736+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 91 ms. Found 3 JPA repository interfaces.
2024-07-15T04:09:09.029+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:09:09.033+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:09:09.175+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:09:09.519+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:09:09.522+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:09:09.544+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:09:09.594+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:09:09.601+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:09:09.879+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: efac4a96cb16f4a26c76cd8a659492cb23a8126bf133e80f9300c93c22ed9d20
2024-07-15T04:09:10.665+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.07112241S
2024-07-15T04:09:10.671+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:09:10.672+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:09:10.673+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:09:10.676+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:09:10.678+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:09:10.879+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 261f0071e16425bcbeb612ed0f2c8647f11fb007e08f532c3ea85f95648583a4
2024-07-15T04:09:11.331+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32778/test using query 'SELECT 1'
2024-07-15T04:09:34.723+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.047191828S
2024-07-15T04:09:34.724+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32778/test)
2024-07-15T04:09:35.937+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:09:35.978+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:09:35.985+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:09:35.986+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:09:36.097+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:09:36.101+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29285 ms
2024-07-15T04:09:36.821+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:09:37.197+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20843604
2024-07-15T04:09:37.200+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:09:37.823+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T04:09:37.826+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T04:09:37.828+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  ChangeLogParseException
2024-07-15T04:09:37.829+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  classpath:db/changelog/db.changelog-master.yaml does not exist
2024-07-15T04:09:37.830+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  4.27.0
2024-07-15T04:09:37.831+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:09:37.836+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:db/changelog/db.changelog-master.yaml does not exist
2024-07-15T04:09:37.839+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:09:37.902+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:09:37.909+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T04:09:37.950+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T04:09:37.986+03:30 | ERROR | [main] | o.s.b.d.LoggingFailureAnalysisReporter | ,, | ***************************APPLICATION FAILED TO START***************************Description:Liquibase failed to start because no changelog could be found at 'classpath:db/changelog/db.changelog-master.yaml'.Action:Make sure a Liquibase changelog is present at the configured path.
2024-07-15T04:09:38.004+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@578483bd] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@318beab4 testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@79a88f45 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@47dbb1e2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d24ffa1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@50eca7c6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7e3f95fe, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T04:10:27.948+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:10:28.009+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 44943 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:10:28.015+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:10:29.922+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:10:30.071+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 137 ms. Found 3 JPA repository interfaces.
2024-07-15T04:10:30.493+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:10:30.498+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:10:30.719+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:10:31.586+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:10:31.589+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:10:31.640+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:10:31.725+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:10:31.734+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:10:32.105+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: f687ef63d52ab387aec00a98da4ebf3d138c6e420a89bfb00086f94474a88cda
2024-07-15T04:10:32.811+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.085818243S
2024-07-15T04:10:32.821+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:10:32.821+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:10:32.823+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:10:32.828+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:10:32.831+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:10:33.021+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 7d9c50d03be91ce20cf830a80e576fdc1f6032a270bb1d1f2bc37397e0c4fdb4
2024-07-15T04:10:33.515+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32780/test using query 'SELECT 1'
2024-07-15T04:10:56.318+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.490264627S
2024-07-15T04:10:56.319+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32780/test)
2024-07-15T04:10:57.638+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:10:57.663+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:10:57.667+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:10:57.668+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:10:57.749+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:10:57.753+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29705 ms
2024-07-15T04:10:58.616+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:10:58.908+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47462daf
2024-07-15T04:10:58.910+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:10:59.901+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:11:00.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:11:00.780+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:11:00.782+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Change failed validation!
2024-07-15T04:11:00.785+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T04:11:00.786+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T04:11:00.787+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  ValidationFailedException
2024-07-15T04:11:00.787+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  Validation Failed:     1 changesets had duplicate identifiers          db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:11:00.788+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  4.27.0
2024-07-15T04:11:00.788+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:11:00.791+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:     1 changesets had duplicate identifiers          db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:11:00.793+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:11:00.806+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:11:00.811+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T04:11:00.839+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T04:11:00.880+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:---     1 changesets had duplicate identifiers---          db.changelog/changes/create_tables.xml::1::s.asadiyan------	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)---	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)---	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)---	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)---	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)---	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
2024-07-15T04:11:00.909+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@19cad9f0] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@58545c2e testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4163f505 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@47dbb1e2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d24ffa1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@50eca7c6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7e3f95fe, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T04:11:53.966+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:11:54.062+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 45784 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:11:54.069+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:11:55.931+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:11:56.031+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 92 ms. Found 3 JPA repository interfaces.
2024-07-15T04:11:56.321+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:11:56.326+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:11:56.466+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:11:56.847+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:11:56.849+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:11:56.879+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:11:56.937+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:11:56.943+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:11:57.235+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: c2a4deace44fa73378c7db145c9da82cff47faa91ab057300d700c9a77fc2057
2024-07-15T04:11:57.961+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.024082019S
2024-07-15T04:11:57.968+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:11:57.969+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:11:57.969+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:11:57.974+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:11:57.976+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:11:58.124+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: e9aaafa228d9d7eae9678c65d315de8a79ed2fa3cc0dfd6aded0821e8f60e844
2024-07-15T04:11:58.586+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32782/test using query 'SELECT 1'
2024-07-15T04:12:17.717+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT19.743774852S
2024-07-15T04:12:17.718+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32782/test)
2024-07-15T04:12:19.002+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:12:19.035+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:12:19.038+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:12:19.040+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:12:19.120+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:12:19.124+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 25021 ms
2024-07-15T04:12:19.880+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:12:20.221+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5cb64b9c
2024-07-15T04:12:20.224+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:12:21.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:12:21.770+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:12:22.003+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:12:22.047+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:12:22.079+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:12:22.081+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1047342081
2024-07-15T04:12:22.085+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:12:22.122+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:12:22.127+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:12:22.129+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:12:22.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:12:22.213+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:12:22.214+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 53ms
2024-07-15T04:12:22.229+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:12:22.278+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:12:22.392+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:12:22.394+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 165ms
2024-07-15T04:12:22.409+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:12:22.451+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:12:22.555+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:12:22.556+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 147ms
2024-07-15T04:12:22.571+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:12:22.571+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          4
2024-07-15T04:12:22.572+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:12:22.572+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:12:22.572+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:12:22.573+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            4
2024-07-15T04:12:22.574+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:12:22.578+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:12:22.579+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 4
2024-07-15T04:12:22.591+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:12:22.593+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:12:22.780+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:12:22.842+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:12:22.881+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:12:23.317+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:12:23.380+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:12:23.381+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:12:24.929+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:12:24.933+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:12:26.231+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:12:28.664+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:12:28.665+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:12:28.683+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:12:28.752+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 87 ms
2024-07-15T04:12:28.901+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:12:28.927+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 35035 (http) with context path '/'
2024-07-15T04:12:28.960+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 35.739 seconds (process running for 37.575)
2024-07-15T04:12:29.909+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 669519350a7b424d70be48b8ea1f5b41,70be48b8ea1f5b41, | no.user.found: with  key : 1
2024-07-15T04:12:30.181+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 6695193618de68d38d8d6575e954a5ab,8d8d6575e954a5ab, | no.user.found: with  key : 1
2024-07-15T04:12:30.421+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:12:30.436+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:12:30.456+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:12:30.461+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:12:30.562+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:18:34.375+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:18:34.456+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 46939 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:18:34.463+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:18:36.266+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:18:36.369+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-15T04:18:36.620+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:18:36.623+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:18:36.789+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:18:37.207+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:18:37.210+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:18:37.258+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:18:37.317+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:18:37.327+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:18:37.690+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: de03051b6cb42244377b8fd2a16d0349932e3d55ad7feac432f17e46b91f68ed
2024-07-15T04:18:38.343+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.026325307S
2024-07-15T04:18:38.353+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:18:38.354+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:18:38.355+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:18:38.367+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:18:38.375+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:18:38.545+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: aeeb465037cc7a1c9c1878ceeb73d9c1580cc20e3ef8cb821a44ea192bdfe498
2024-07-15T04:18:39.012+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32784/test using query 'SELECT 1'
2024-07-15T04:19:01.517+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.150547851S
2024-07-15T04:19:01.518+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32784/test)
2024-07-15T04:19:02.846+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:19:02.871+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:19:02.874+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:19:02.874+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:19:02.965+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:19:02.968+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28483 ms
2024-07-15T04:19:03.833+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:19:04.196+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47a90d2a
2024-07-15T04:19:04.200+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:19:05.178+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:19:05.864+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:19:06.121+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:19:06.138+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:19:06.175+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:19:06.177+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1047746176
2024-07-15T04:19:06.180+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:19:06.232+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:19:06.238+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:19:06.241+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:19:06.325+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:19:06.400+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:19:06.401+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 76ms
2024-07-15T04:19:06.426+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:19:06.497+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:19:06.701+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:19:06.702+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 276ms
2024-07-15T04:19:06.723+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:19:06.800+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:19:06.966+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:19:06.967+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 244ms
2024-07-15T04:19:06.986+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:19:06.994+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:19:06.998+03:30 | ERROR | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan encountered an exception. liquibase.exception.DatabaseException: Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1 [Failed SQL: (1366) INSERT INTO test.simple_account (balance, account_type, version, user_id) VALUES ('100000', '1', '1', '(SELECT id FROM simple_user WHERE username=''defaultUser'')')]---	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:473)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:80)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:182)---	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)---	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1176)---	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:764)---	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:119)---	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:68)---	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:133)
2024-07-15T04:19:07.012+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:19:07.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          4
2024-07-15T04:19:07.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:19:07.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:19:07.014+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:19:07.014+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            4
2024-07-15T04:19:07.016+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:19:07.020+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command encountered an exception.
2024-07-15T04:19:07.032+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:19:07.034+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T04:19:07.035+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T04:19:07.035+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  SQLException
2024-07-15T04:19:07.036+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1
2024-07-15T04:19:07.037+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  MySQL 8.0.38
2024-07-15T04:19:07.037+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:19:07.041+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan:     Reason: liquibase.exception.DatabaseException: Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1 [Failed SQL: (1366) INSERT INTO test.simple_account (balance, account_type, version, user_id) VALUES ('100000', '1', '1', '(SELECT id FROM simple_user WHERE username=''defaultUser'')')]
2024-07-15T04:19:07.042+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:19:07.055+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:19:07.061+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T04:19:07.095+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T04:19:07.121+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan:---     Reason: liquibase.exception.DatabaseException: Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1 [Failed SQL: (1366) INSERT INTO test.simple_account (balance, account_type, version, user_id) VALUES ('100000', '1', '1', '(SELECT id FROM simple_user WHERE username=''defaultUser'')')]---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)---	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)---	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)---	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)---	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)---	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)---	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)---	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
2024-07-15T04:19:07.147+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@71739267] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@27e42fe8 testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@219bad15 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@47dbb1e2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d24ffa1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@50eca7c6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7e3f95fe, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T04:20:36.568+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:20:36.644+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 47814 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:20:36.652+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:20:38.415+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:20:38.507+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 83 ms. Found 3 JPA repository interfaces.
2024-07-15T04:20:38.840+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:20:38.844+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:20:39.022+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:20:39.515+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:20:39.518+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:20:39.571+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:20:39.636+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:20:39.646+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:20:39.956+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 6bd328aa7d2b05ed8f7b1c395b8d76abc8de15881afd6181ecde27d09f19807b
2024-07-15T04:20:40.631+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.99505108S
2024-07-15T04:20:40.640+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:20:40.640+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:20:40.642+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:20:40.646+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:20:40.648+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:20:40.805+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: dc3fbf2041714bdedf13d6b3737b6d3c25bddb62cc1e472275830c99bb914c8f
2024-07-15T04:20:41.313+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32786/test using query 'SELECT 1'
2024-07-15T04:21:00.020+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT19.373367628S
2024-07-15T04:21:00.021+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32786/test)
2024-07-15T04:21:01.978+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:21:02.012+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:21:02.016+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:21:02.018+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:21:02.156+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:21:02.161+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 25475 ms
2024-07-15T04:21:02.939+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:21:03.235+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1cb7f2fe
2024-07-15T04:21:03.237+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:21:04.282+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:21:04.759+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:21:05.015+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:21:05.038+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:21:05.102+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:21:05.104+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1047865104
2024-07-15T04:21:05.108+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:21:05.165+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:21:05.170+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:21:05.172+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T04:21:05.231+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:21:05.283+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:21:05.284+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 53ms
2024-07-15T04:21:05.304+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:21:05.357+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:21:05.461+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:21:05.463+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 157ms
2024-07-15T04:21:05.480+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:21:05.527+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:21:05.629+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:21:05.630+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 150ms
2024-07-15T04:21:05.651+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:21:05.657+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:21:05.662+03:30 | ERROR | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan encountered an exception. liquibase.exception.DatabaseException: Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1 [Failed SQL: (1366) INSERT INTO test.simple_account (balance, account_type, version, user_id) VALUES ('100000.00', '1', '1', '(SELECT id FROM simple_user WHERE username=''defaultUser'')')]---	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:473)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:80)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:182)---	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)---	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1176)---	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:764)---	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:119)---	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:68)---	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:133)
2024-07-15T04:21:05.677+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:21:05.677+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          4
2024-07-15T04:21:05.678+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:21:05.678+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:21:05.680+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:21:05.680+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            4
2024-07-15T04:21:05.681+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:21:05.685+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command encountered an exception.
2024-07-15T04:21:05.696+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:21:05.699+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T04:21:05.699+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T04:21:05.699+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  SQLException
2024-07-15T04:21:05.700+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1
2024-07-15T04:21:05.701+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  MySQL 8.0.38
2024-07-15T04:21:05.701+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:21:05.704+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan:     Reason: liquibase.exception.DatabaseException: Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1 [Failed SQL: (1366) INSERT INTO test.simple_account (balance, account_type, version, user_id) VALUES ('100000.00', '1', '1', '(SELECT id FROM simple_user WHERE username=''defaultUser'')')]
2024-07-15T04:21:05.705+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:21:05.718+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:21:05.727+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T04:21:05.775+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T04:21:05.810+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan:---     Reason: liquibase.exception.DatabaseException: Incorrect integer value: '(SELECT id FROM simple_user WHERE username='defaultUser')' for column 'user_id' at row 1 [Failed SQL: (1366) INSERT INTO test.simple_account (balance, account_type, version, user_id) VALUES ('100000.00', '1', '1', '(SELECT id FROM simple_user WHERE username=''defaultUser'')')]---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)---	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)---	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)---	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)---	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)---	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)---	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)---	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
2024-07-15T04:21:05.824+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@64ee9290] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7ab20a7 testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@6db160b4 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@47dbb1e2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6d24ffa1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@50eca7c6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7e3f95fe, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@80f4e763], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T04:26:01.442+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:26:01.518+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 48869 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:26:01.527+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:26:03.265+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:26:03.366+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 87 ms. Found 3 JPA repository interfaces.
2024-07-15T04:26:03.673+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:26:03.677+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:26:03.861+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:26:04.330+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:26:04.334+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:26:04.358+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:26:04.404+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:26:04.411+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:26:04.702+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: bcc23fd484539e4e5eeb500d3d082b699074f87a0dacafa4090ef79578c589db
2024-07-15T04:26:05.375+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.971311149S
2024-07-15T04:26:05.381+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:26:05.382+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:26:05.383+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:26:05.387+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:26:05.389+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:26:05.581+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 2cb310d97774951007693463b24de96b75ecfbad43104c0ba969d3fae5b922d9
2024-07-15T04:26:06.054+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32788/test using query 'SELECT 1'
2024-07-15T04:26:28.432+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.045107203S
2024-07-15T04:26:28.433+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32788/test)
2024-07-15T04:26:29.798+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:26:29.828+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:26:29.835+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:26:29.837+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:26:29.935+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:26:29.938+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28389 ms
2024-07-15T04:26:30.693+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:26:31.040+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31d8352e
2024-07-15T04:26:31.042+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:26:32.070+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:26:32.797+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:26:33.034+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:26:33.053+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:26:33.093+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:26:33.095+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1048193094
2024-07-15T04:26:33.099+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:26:33.147+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:26:33.152+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:26:33.154+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:26:33.243+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:26:33.323+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:26:33.325+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 80ms
2024-07-15T04:26:33.347+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:26:33.417+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:26:33.605+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:26:33.607+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 258ms
2024-07-15T04:26:33.623+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:26:33.694+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:26:33.860+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:26:33.861+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 238ms
2024-07-15T04:26:33.882+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:26:33.889+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:26:33.896+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:26:33.900+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:26:33.908+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 26ms
2024-07-15T04:26:33.926+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:26:33.926+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:26:33.926+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:26:33.928+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:26:33.929+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:26:33.929+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:26:33.931+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:26:33.935+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:26:33.936+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:26:33.952+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:26:33.953+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:26:34.197+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:26:34.292+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:26:34.351+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:26:34.812+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:26:34.880+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:26:34.881+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:26:36.533+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:26:36.537+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:26:37.470+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:26:39.173+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:26:39.174+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:26:39.198+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:26:39.271+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 96 ms
2024-07-15T04:26:39.421+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:26:39.443+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 39625 (http) with context path '/'
2024-07-15T04:26:39.473+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 38.946 seconds (process running for 41.183)
2024-07-15T04:26:40.726+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66951c88508c98188b5e2506f96389ac,8b5e2506f96389ac, | user.status : with message : user is not enabled
2024-07-15T04:26:40.879+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:26:40.916+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:26:40.940+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:26:40.954+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:26:40.996+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:30:51.695+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:30:51.767+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting WalletV2Application using Java 21.0.1 with PID 49843 (/home/madara/blu/wallet-v2/target/classes started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:30:51.786+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | No active profile set, falling back to 1 default profile: "default"
2024-07-15T04:30:53.715+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:30:53.798+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 73 ms. Found 3 JPA repository interfaces.
2024-07-15T04:30:55.023+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 8080 (http)
2024-07-15T04:30:55.041+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-8080"]
2024-07-15T04:30:55.044+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:30:55.045+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:30:55.102+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:30:55.102+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 3165 ms
2024-07-15T04:30:55.727+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:30:56.821+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failureThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2024-07-15T04:30:56.828+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T04:30:56.846+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T04:30:56.863+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure------The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)---	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)---	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)---	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)---	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)---	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)---	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
2024-07-15T04:31:18.965+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:31:19.077+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 49990 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:31:19.089+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:31:21.477+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:31:21.591+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 96 ms. Found 3 JPA repository interfaces.
2024-07-15T04:31:21.986+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:31:21.990+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:31:22.197+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:31:22.746+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:31:22.749+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:31:22.781+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:31:22.830+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:31:22.839+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:31:23.391+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 9d7ab45b12f6d60d844b37f1b396966d48e8dc8cb9f40dfd6552f228b58f48ae
2024-07-15T04:31:23.966+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.135633154S
2024-07-15T04:31:23.977+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:31:23.979+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:31:23.980+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:31:23.985+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:31:23.988+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:31:24.170+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 4aa0ea44aba193d9fde1892ca51a316b37682030b6f74912146fe7da69f298a1
2024-07-15T04:31:24.733+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32790/test using query 'SELECT 1'
2024-07-15T04:31:43.728+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT19.742182039S
2024-07-15T04:31:43.731+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32790/test)
2024-07-15T04:31:45.454+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:31:45.479+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:31:45.485+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:31:45.486+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:31:45.573+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:31:45.577+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 26435 ms
2024-07-15T04:31:46.630+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:31:47.260+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7692c0e9
2024-07-15T04:31:47.263+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:31:48.860+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:31:49.640+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:31:50.009+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:31:50.031+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:31:50.058+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:31:50.060+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1048510060
2024-07-15T04:31:50.063+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:31:50.114+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:31:50.119+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:31:50.123+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T04:31:50.167+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:31:50.242+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:31:50.244+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 76ms
2024-07-15T04:31:50.268+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:31:50.353+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:31:50.543+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:31:50.544+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 275ms
2024-07-15T04:31:50.564+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:31:50.641+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:31:50.840+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:31:50.841+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 277ms
2024-07-15T04:31:50.862+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:31:50.869+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:31:50.874+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:31:50.878+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:31:50.887+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 24ms
2024-07-15T04:31:50.907+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:31:50.908+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:31:50.908+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:31:50.908+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:31:50.909+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:31:50.909+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:31:50.911+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:31:50.916+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:31:50.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:31:50.934+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:31:50.936+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:31:51.158+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:31:51.249+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:31:51.312+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:31:51.897+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:31:51.981+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:31:51.984+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:31:53.924+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:31:53.932+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:31:55.112+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:31:57.167+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:31:57.168+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:31:57.200+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:31:57.263+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 93 ms
2024-07-15T04:31:57.412+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:31:57.457+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 45799 (http) with context path '/'
2024-07-15T04:31:57.501+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.416 seconds (process running for 41.929)
2024-07-15T04:32:23.033+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66951dde7c6a707eab09bc1c441f30ad,ab09bc1c441f30ad, | user.status : with message : user is not enabled
2024-07-15T04:32:23.127+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:32:23.144+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:32:23.183+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:32:23.220+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:32:23.307+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:33:00.332+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:33:00.387+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 50750 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:33:00.393+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:33:02.486+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:33:02.609+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 111 ms. Found 3 JPA repository interfaces.
2024-07-15T04:33:02.934+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:33:02.939+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:33:03.179+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:33:03.677+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:33:03.679+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:33:03.708+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:33:03.759+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:33:03.768+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:33:04.047+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 3eea1311578e68339693196383fd06817a85803f06c07a2f7cc7480fca974c95
2024-07-15T04:33:04.651+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.891931416S
2024-07-15T04:33:04.675+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:33:04.676+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:33:04.677+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:33:04.683+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:33:04.686+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:33:04.889+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: b369555eb4aabafe2ef9bf2b305a3abde5f67524b15e7ceab1432765e458695b
2024-07-15T04:33:05.505+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32792/test using query 'SELECT 1'
2024-07-15T04:33:29.851+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT25.167748144S
2024-07-15T04:33:29.852+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32792/test)
2024-07-15T04:33:31.388+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:33:31.416+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:33:31.422+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:33:31.423+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:33:31.510+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:33:31.514+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 31092 ms
2024-07-15T04:33:32.450+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:33:32.901+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5aa2758a
2024-07-15T04:33:32.914+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:33:34.109+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:33:34.684+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:33:35.240+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:33:35.282+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:33:35.400+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:33:35.404+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1048615403
2024-07-15T04:33:35.417+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:33:35.522+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:33:35.531+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:33:35.535+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 9ms
2024-07-15T04:33:35.633+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:33:35.725+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:33:35.728+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 92ms
2024-07-15T04:33:35.747+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:33:35.834+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:33:36.025+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:33:36.027+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 278ms
2024-07-15T04:33:36.047+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:33:36.131+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:33:36.316+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:33:36.317+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 265ms
2024-07-15T04:33:36.339+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:33:36.351+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:33:36.357+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:33:36.362+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:33:36.370+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 31ms
2024-07-15T04:33:36.397+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:33:36.398+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:33:36.399+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:33:36.401+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:33:36.402+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:33:36.405+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:33:36.408+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:33:36.413+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:33:36.415+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:33:36.443+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:33:36.446+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:33:36.764+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:33:36.955+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:33:37.085+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:33:37.746+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:33:37.843+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:33:37.847+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:33:39.863+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:33:39.871+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:33:40.991+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:33:42.880+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:33:42.881+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:33:42.920+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:33:42.976+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 95 ms
2024-07-15T04:33:43.107+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:33:43.146+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 41589 (http) with context path '/'
2024-07-15T04:33:43.175+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 43.758 seconds (process running for 47.522)
2024-07-15T04:34:38.915+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s902ms10µs240ns).
2024-07-15T04:34:38.992+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:34:39.014+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:34:39.032+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:34:39.037+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:34:39.069+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:34:57.420+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:34:57.501+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 51738 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:34:57.506+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:34:59.317+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:34:59.408+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 81 ms. Found 3 JPA repository interfaces.
2024-07-15T04:34:59.689+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:34:59.692+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:34:59.821+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:35:00.157+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:35:00.159+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:35:00.189+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:35:00.227+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:35:00.234+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:35:00.602+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: f22de0afc99f2cf0c22441e98be32677f637446785853f7a208c3d3e10a5cdc4
2024-07-15T04:35:01.373+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.146085906S
2024-07-15T04:35:01.381+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:35:01.382+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:35:01.383+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:35:01.388+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:35:01.390+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:35:01.627+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: c5bedea197254eb379527b1398025bfa182755609d1c67e0b152c0e11dd655ab
2024-07-15T04:35:02.186+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32794/test using query 'SELECT 1'
2024-07-15T04:35:23.894+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.505952441S
2024-07-15T04:35:23.894+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32794/test)
2024-07-15T04:35:25.276+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:35:25.301+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:35:25.304+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:35:25.305+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:35:25.386+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:35:25.390+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 27861 ms
2024-07-15T04:35:26.304+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:35:26.679+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f006edf
2024-07-15T04:35:26.682+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:35:27.625+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:35:28.204+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:35:28.513+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:35:28.532+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:35:28.566+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:35:28.570+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1048728569
2024-07-15T04:35:28.575+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:35:28.651+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:35:28.656+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:35:28.658+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:35:28.726+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:35:28.808+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:35:28.809+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 82ms
2024-07-15T04:35:28.842+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:35:28.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:35:29.113+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:35:29.114+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 271ms
2024-07-15T04:35:29.131+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:35:29.208+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:35:29.391+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:35:29.393+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 261ms
2024-07-15T04:35:29.411+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:35:29.418+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:35:29.422+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:35:29.427+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:35:29.435+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 23ms
2024-07-15T04:35:29.456+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:35:29.457+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:35:29.457+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:35:29.458+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:35:29.458+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:35:29.459+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:35:29.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:35:29.463+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:35:29.464+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:35:29.479+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:35:29.481+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:35:29.693+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:35:29.777+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:35:29.832+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:35:30.279+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:35:30.353+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:35:30.355+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:35:31.825+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:35:31.828+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:35:32.679+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:35:34.582+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:35:34.585+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:35:34.648+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:35:34.762+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 177 ms
2024-07-15T04:35:34.970+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:35:35.099+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 37437 (http) with context path '/'
2024-07-15T04:35:35.160+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 38.511 seconds (process running for 40.2)
2024-07-15T04:35:36.376+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66951ea06a8469abc801af7742df2d2f,c801af7742df2d2f, | user.status : with message : user is not enabled
2024-07-15T04:35:36.576+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:35:36.594+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:35:36.611+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:35:36.623+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:35:36.753+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:36:32.392+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:36:32.462+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 52625 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:36:32.472+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:36:34.246+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:36:34.363+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 105 ms. Found 3 JPA repository interfaces.
2024-07-15T04:36:34.621+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:36:34.625+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:36:34.809+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:36:35.264+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:36:35.267+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:36:35.295+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:36:35.346+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:36:35.357+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:36:35.710+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: d9e3a7569c91b9968ac80c68d5c949e6cbd4f3f3ec2c079e93f6a68845f7275e
2024-07-15T04:36:36.550+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.203792921S
2024-07-15T04:36:36.557+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:36:36.558+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:36:36.559+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:36:36.564+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:36:36.566+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:36:36.772+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: fa75f25dfc1473a1523fd926201cc40cbe9edf45c9ee808b0d17a12bdc500412
2024-07-15T04:36:37.306+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32796/test using query 'SELECT 1'
2024-07-15T04:36:59.879+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.314348937S
2024-07-15T04:36:59.880+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32796/test)
2024-07-15T04:37:01.604+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:37:01.655+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:37:01.662+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:37:01.664+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:37:01.822+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:37:01.826+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29321 ms
2024-07-15T04:37:02.904+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:37:03.284+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a76c90
2024-07-15T04:37:03.286+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:37:04.251+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:37:10.208+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:37:10.448+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:37:10.464+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:37:10.532+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:37:10.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1048830535
2024-07-15T04:37:10.541+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:37:10.607+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:37:10.612+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:37:10.614+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:37:10.653+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:37:10.729+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:37:10.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 77ms
2024-07-15T04:37:10.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:37:10.838+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:37:11.155+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:37:11.157+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 391ms
2024-07-15T04:37:11.175+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:37:11.251+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:37:11.432+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:37:11.433+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 258ms
2024-07-15T04:37:11.453+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:37:11.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:37:11.466+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:37:11.470+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:37:11.480+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 27ms
2024-07-15T04:37:11.495+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:37:11.496+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:37:11.496+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:37:11.496+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:37:11.497+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:37:11.497+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:37:11.499+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:37:11.502+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:37:11.503+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:37:11.517+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:37:11.518+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:37:11.712+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:37:11.774+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:37:11.813+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:37:12.161+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:37:12.212+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:37:12.213+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:37:13.650+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:37:13.654+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:37:14.602+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:37:16.580+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:37:16.581+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:37:16.614+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:37:16.659+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 78 ms
2024-07-15T04:37:16.769+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:37:16.792+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 37189 (http) with context path '/'
2024-07-15T04:37:16.821+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 45.218 seconds (process running for 47.07)
2024-07-15T04:37:17.886+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66951f057601bce385b2ce7c3e1ba5d2,85b2ce7c3e1ba5d2, | user.status : with message : user is not enabled
2024-07-15T04:37:18.027+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:37:18.064+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:37:18.083+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:37:18.091+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:37:18.139+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:37:45.468+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:37:45.544+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 53391 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:37:45.552+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:37:47.712+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:37:47.849+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 119 ms. Found 3 JPA repository interfaces.
2024-07-15T04:37:48.260+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:37:48.264+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:37:48.486+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:37:49.018+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:37:49.021+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:37:49.052+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:37:49.115+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:37:49.125+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:37:49.617+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 50a59bef3b1ea094d9d46f0c1f7cfe9bd071882e0bc54f82b88a2e5c5c96d579
2024-07-15T04:37:50.451+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.336365071S
2024-07-15T04:37:50.464+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:37:50.465+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:37:50.466+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:37:50.473+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:37:50.476+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:37:50.745+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: fc86bd11303ed9d127eea087294124a20d013f0808d6ccdc14d4f6e3c332cdac
2024-07-15T04:37:51.284+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32798/test using query 'SELECT 1'
2024-07-15T04:38:13.973+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.50056821S
2024-07-15T04:38:13.974+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32798/test)
2024-07-15T04:38:15.499+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:38:15.524+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:38:15.530+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:38:15.532+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:38:15.625+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:38:15.631+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30043 ms
2024-07-15T04:38:16.529+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:38:16.949+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f93ec02
2024-07-15T04:38:16.953+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:38:18.097+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:38:18.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:38:19.025+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:38:19.045+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:38:19.091+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:38:19.094+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1048899093
2024-07-15T04:38:19.106+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:38:19.181+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:38:19.186+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:38:19.189+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T04:38:19.245+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:38:19.327+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:38:19.331+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 85ms
2024-07-15T04:38:19.350+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:38:19.425+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:38:19.609+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:38:19.611+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 259ms
2024-07-15T04:38:19.628+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:38:19.707+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:38:19.894+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:38:19.895+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 267ms
2024-07-15T04:38:19.913+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:38:19.921+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:38:19.927+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:38:19.934+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:38:19.942+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 29ms
2024-07-15T04:38:19.964+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:38:19.965+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:38:19.965+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:38:19.966+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:38:19.966+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:38:19.966+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:38:19.967+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:38:19.971+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:38:19.972+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:38:19.986+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:38:19.988+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:38:20.200+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:38:20.302+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:38:20.363+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:38:20.928+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:38:21.010+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:38:21.013+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:38:22.867+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:38:22.874+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:38:24.059+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:38:26.192+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:38:26.194+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:38:26.269+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:38:26.367+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 173 ms
2024-07-15T04:38:26.587+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:38:26.649+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36371 (http) with context path '/'
2024-07-15T04:38:26.693+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.059 seconds (process running for 45.721)
2024-07-15T04:39:31.569+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m14s516ms316µs182ns).
2024-07-15T04:39:31.648+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:39:31.652+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:39:31.666+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:39:31.672+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:47:36.965+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:47:37.135+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 54740 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:47:37.149+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:47:38.990+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:47:39.089+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 87 ms. Found 3 JPA repository interfaces.
2024-07-15T04:47:39.447+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:47:39.451+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:47:39.598+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:47:40.054+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:47:40.056+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:47:40.077+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:47:40.117+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:47:40.128+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:47:40.395+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: a0a9f20a9b94ea58bc1fff29549a2cef93557fb993c5fc72a7fe910d44daeb7d
2024-07-15T04:47:41.148+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.031561714S
2024-07-15T04:47:41.160+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:47:41.161+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:47:41.162+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:47:41.171+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:47:41.175+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:47:41.319+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 4809d0865b7473fff03f759ef731ecd67259d553fd9bbb2548864ac96612eeae
2024-07-15T04:47:41.737+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32800/test using query 'SELECT 1'
2024-07-15T04:48:03.967+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.795569785S
2024-07-15T04:48:03.969+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32800/test)
2024-07-15T04:48:05.867+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:48:05.938+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:48:05.942+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:48:05.943+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:48:06.048+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:48:06.056+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28863 ms
2024-07-15T04:48:07.596+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:48:08.434+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e2546bf
2024-07-15T04:48:08.437+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:48:09.553+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:48:10.067+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:48:10.471+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:48:10.495+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:48:10.566+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:48:10.568+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1049490568
2024-07-15T04:48:10.572+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:48:10.627+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:48:10.632+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:48:10.635+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:48:10.668+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:48:10.750+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:48:10.751+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 83ms
2024-07-15T04:48:10.769+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:48:10.838+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:48:11.038+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:48:11.039+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 270ms
2024-07-15T04:48:11.063+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:48:11.142+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:48:11.342+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:48:11.345+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 280ms
2024-07-15T04:48:11.382+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:48:11.394+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:48:11.406+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:48:11.414+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:48:11.454+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 71ms
2024-07-15T04:48:11.478+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:48:11.478+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:48:11.487+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:48:11.487+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:48:11.488+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:48:11.488+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:48:11.491+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:48:11.495+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:48:11.496+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:48:11.510+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:48:11.511+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:48:11.757+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:48:11.906+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:48:11.959+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:48:12.478+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:48:12.529+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:48:12.530+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:48:14.629+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:48:14.633+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:48:15.883+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:48:17.619+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:48:17.620+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:48:17.649+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:48:17.709+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 87 ms
2024-07-15T04:48:17.847+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:48:17.884+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 33349 (http) with context path '/'
2024-07-15T04:48:17.918+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.077 seconds (process running for 44.992)
2024-07-15T04:48:19.018+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 6695219a43c2fa642a20fda337fce53d,2a20fda337fce53d, | user.status : with message : user is not enabled
2024-07-15T04:48:19.040+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:48:19.048+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:48:19.063+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:48:19.069+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:48:19.103+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:49:36.701+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:49:36.924+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 55654 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:49:36.957+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:49:41.152+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:49:41.321+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 153 ms. Found 3 JPA repository interfaces.
2024-07-15T04:49:42.092+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:49:42.098+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:49:42.456+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:49:43.334+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:49:43.339+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:49:43.406+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:49:43.543+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:49:43.563+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:49:44.027+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: db1aa73c31d9a62a9cf52803688923fa959d59dcf9ec279376e947dcb67cf6f8
2024-07-15T04:49:45.373+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.831147136S
2024-07-15T04:49:45.404+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:49:45.405+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:49:45.409+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:49:45.420+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:49:45.429+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:49:45.599+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 7abaabd9c8f39e4f6553b10d0e1e4dcb2f16719118723d12819a4a3f724c8a65
2024-07-15T04:49:46.347+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32802/test using query 'SELECT 1'
2024-07-15T04:50:11.330+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT25.910113478S
2024-07-15T04:50:11.331+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32802/test)
2024-07-15T04:50:12.580+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:50:12.620+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:50:12.624+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:50:12.628+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:50:12.728+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:50:12.732+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 35713 ms
2024-07-15T04:50:13.676+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:50:14.003+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@14f254f
2024-07-15T04:50:14.005+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:50:15.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:50:15.667+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:50:15.935+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:50:15.955+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:50:15.984+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:50:15.986+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1049615986
2024-07-15T04:50:15.990+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:50:16.040+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:50:16.045+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:50:16.048+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:50:16.145+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:50:16.229+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:50:16.231+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 85ms
2024-07-15T04:50:16.248+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:50:16.365+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:50:16.554+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:50:16.555+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 307ms
2024-07-15T04:50:16.574+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:50:16.659+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:50:16.846+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:50:16.847+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 272ms
2024-07-15T04:50:16.865+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:50:16.871+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:50:16.876+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:50:16.879+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:50:16.887+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 21ms
2024-07-15T04:50:16.906+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:50:16.907+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:50:16.907+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:50:16.907+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:50:16.908+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:50:16.908+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:50:16.910+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:50:16.913+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:50:16.914+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:50:16.927+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:50:16.929+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:50:17.120+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:50:17.243+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:50:17.293+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:50:17.666+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:50:17.722+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:50:17.724+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:50:19.161+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:50:19.167+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:50:20.421+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:50:23.249+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:50:23.250+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:50:23.313+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:50:23.429+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 178 ms
2024-07-15T04:50:23.664+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:50:23.702+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 35771 (http) with context path '/'
2024-07-15T04:50:23.745+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 49.063 seconds (process running for 54.278)
2024-07-15T04:50:25.700+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 669522193af5bb46e2adb7aaaef71950,e2adb7aaaef71950, | user.status : with message : user is not enabled
2024-07-15T04:50:25.810+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:50:25.842+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:50:25.895+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:50:25.934+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:50:26.019+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:52:49.461+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:52:49.553+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 56566 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:52:49.561+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:52:51.318+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:52:51.442+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 98 ms. Found 3 JPA repository interfaces.
2024-07-15T04:52:51.793+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:52:51.798+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:52:51.977+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:52:52.441+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:52:52.443+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:52:52.459+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:52:52.490+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:52:52.495+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:52:52.718+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 03f1da45b7a9de61c6373cc6440e80424cbedb7882d9537648596e8b4127986d
2024-07-15T04:52:53.347+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.857490387S
2024-07-15T04:52:53.356+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:52:53.357+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:52:53.358+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:52:53.364+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:52:53.366+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:52:53.497+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 7bdfcfc0387206ee9ba2d0a53ba0099155715babd6d39ce1a17f9c4ecdd94f2f
2024-07-15T04:52:54.101+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32804/test using query 'SELECT 1'
2024-07-15T04:53:16.673+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.308527332S
2024-07-15T04:53:16.674+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32804/test)
2024-07-15T04:53:17.995+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:53:18.039+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:53:18.044+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:53:18.045+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:53:18.137+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:53:18.141+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28539 ms
2024-07-15T04:53:19.001+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:53:19.461+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@14f254f
2024-07-15T04:53:19.463+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:53:20.513+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:53:20.971+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:53:21.268+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:53:21.287+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:53:21.364+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:53:21.368+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1049801367
2024-07-15T04:53:21.372+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:53:21.418+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:53:21.422+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:53:21.423+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 3ms
2024-07-15T04:53:21.443+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:53:21.515+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:53:21.517+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 72ms
2024-07-15T04:53:21.538+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:53:21.621+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:53:21.817+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:53:21.818+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 280ms
2024-07-15T04:53:21.837+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:53:21.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:53:22.102+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:53:22.103+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 266ms
2024-07-15T04:53:22.127+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:53:22.133+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:53:22.137+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:53:22.141+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:53:22.151+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 23ms
2024-07-15T04:53:22.168+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:53:22.169+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:53:22.169+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:53:22.170+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:53:22.170+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:53:22.170+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:53:22.171+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:53:22.174+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:53:22.175+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:53:22.188+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:53:22.190+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:53:22.376+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:53:22.467+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:53:22.519+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:53:22.897+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:53:22.951+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:53:22.953+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:53:24.547+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:53:24.553+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:53:25.443+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:53:27.396+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:53:27.397+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:53:27.446+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:53:27.504+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 107 ms
2024-07-15T04:53:27.633+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:53:27.658+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36601 (http) with context path '/'
2024-07-15T04:53:27.685+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.154 seconds (process running for 42.702)
2024-07-15T04:53:28.767+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 669522d07cefe070c20a3a0db07fe321,c20a3a0db07fe321, | user.status : with message : user is not enabled
2024-07-15T04:53:28.791+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:53:28.794+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:53:28.805+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:53:28.809+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:53:28.837+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:53:50.111+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:53:50.155+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 57258 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:53:50.162+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:53:52.235+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:53:52.387+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 137 ms. Found 3 JPA repository interfaces.
2024-07-15T04:53:52.805+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:53:52.815+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:53:52.999+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:53:53.514+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:53:53.518+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:53:53.545+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:53:53.596+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:53:53.607+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:53:54.005+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: bebf4ea5091d679121aaaac4187d6f675af38e8aec5e356f80e6fa72bfd7db6c
2024-07-15T04:53:54.754+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.158229065S
2024-07-15T04:53:54.780+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:53:54.781+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:53:54.783+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:53:54.794+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:53:54.799+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:53:55.030+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 61a499dcb474e1806ff129b1855be13755d9fa141a22ea30d168f677da001742
2024-07-15T04:53:55.735+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32806/test using query 'SELECT 1'
2024-07-15T04:54:18.509+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.715268414S
2024-07-15T04:54:18.510+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32806/test)
2024-07-15T04:54:20.015+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:54:20.036+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:54:20.041+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:54:20.041+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:54:20.119+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:54:20.122+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29934 ms
2024-07-15T04:54:21.086+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:54:21.591+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d91147b
2024-07-15T04:54:21.594+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:54:22.733+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:54:23.223+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:54:23.485+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:54:23.506+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:54:23.569+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:54:23.571+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1049863570
2024-07-15T04:54:23.574+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:54:23.619+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:54:23.623+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:54:23.625+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T04:54:23.673+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:54:23.749+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:54:23.751+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 78ms
2024-07-15T04:54:23.770+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:54:23.850+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:54:24.031+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:54:24.033+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 261ms
2024-07-15T04:54:24.049+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:54:24.121+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:54:24.302+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:54:24.304+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 254ms
2024-07-15T04:54:24.323+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:54:24.336+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:54:24.346+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:54:24.352+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:54:24.361+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 38ms
2024-07-15T04:54:24.382+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:54:24.383+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:54:24.383+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:54:24.384+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:54:24.384+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:54:24.385+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:54:24.386+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:54:24.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:54:24.391+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:54:24.407+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:54:24.409+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:54:24.574+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:54:24.659+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:54:24.758+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:54:25.336+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:54:25.414+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:54:25.416+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:54:27.186+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:54:27.192+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:54:28.227+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:54:30.274+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:54:30.281+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:54:30.388+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:54:30.493+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 212 ms
2024-07-15T04:54:30.656+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:54:30.682+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 38489 (http) with context path '/'
2024-07-15T04:54:30.725+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 41.471 seconds (process running for 45.153)
2024-07-15T04:57:35.405+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m13s711ms144µs533ns).
2024-07-15T04:57:35.548+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:57:35.559+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:57:35.587+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:57:35.604+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:57:35.701+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T04:58:33.533+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T04:58:33.623+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 58128 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T04:58:33.632+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T04:58:35.653+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T04:58:35.760+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-15T04:58:36.187+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T04:58:36.192+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T04:58:36.411+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T04:58:36.944+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T04:58:36.947+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T04:58:36.976+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T04:58:37.023+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T04:58:37.031+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T04:58:37.492+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 43c5e9335969b6ea8617779bdfcc425c6488fecf952c3d5b5efdb7a84c23d75d
2024-07-15T04:58:38.160+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.137779263S
2024-07-15T04:58:38.174+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T04:58:38.174+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T04:58:38.176+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T04:58:38.182+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T04:58:38.185+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T04:58:38.434+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 8b4d0ae9dbe114d98c14b94af94bf6039bf0642ad3fa7856a5d814cc668a9d7c
2024-07-15T04:58:38.899+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32808/test using query 'SELECT 1'
2024-07-15T04:59:01.101+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.919107101S
2024-07-15T04:59:01.102+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32808/test)
2024-07-15T04:59:02.686+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T04:59:02.727+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:59:02.734+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T04:59:02.735+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T04:59:02.837+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T04:59:02.840+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29149 ms
2024-07-15T04:59:03.695+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T04:59:04.279+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1299fed3
2024-07-15T04:59:04.283+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T04:59:05.521+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T04:59:06.050+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:59:06.363+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:59:06.383+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T04:59:06.493+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T04:59:06.495+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1050146495
2024-07-15T04:59:06.500+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T04:59:06.557+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T04:59:06.563+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T04:59:06.566+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T04:59:06.650+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T04:59:06.729+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T04:59:06.731+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 81ms
2024-07-15T04:59:06.757+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T04:59:06.842+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T04:59:07.039+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T04:59:07.040+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 281ms
2024-07-15T04:59:07.057+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T04:59:07.164+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T04:59:07.361+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T04:59:07.363+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 304ms
2024-07-15T04:59:07.389+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T04:59:07.407+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T04:59:07.420+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T04:59:07.427+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T04:59:07.436+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 46ms
2024-07-15T04:59:07.459+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T04:59:07.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T04:59:07.462+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T04:59:07.462+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T04:59:07.462+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T04:59:07.463+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T04:59:07.465+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T04:59:07.470+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T04:59:07.471+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T04:59:07.491+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T04:59:07.494+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T04:59:07.741+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T04:59:07.878+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T04:59:07.962+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T04:59:08.496+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T04:59:08.646+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T04:59:08.653+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T04:59:10.853+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T04:59:10.858+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:59:11.986+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T04:59:14.347+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T04:59:14.349+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T04:59:14.384+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T04:59:14.463+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 114 ms
2024-07-15T04:59:14.701+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T04:59:14.736+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 35717 (http) with context path '/'
2024-07-15T04:59:14.783+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.094 seconds (process running for 45.601)
2024-07-15T04:59:54.358+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66952452b407e8268e0f95c5f301af7a,8e0f95c5f301af7a, | user.status : with message : user is not enabled
2024-07-15T04:59:54.468+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T04:59:54.491+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T04:59:54.505+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T04:59:54.537+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T04:59:54.591+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T05:01:05.538+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T05:01:05.716+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 58908 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T05:01:05.725+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T05:01:07.818+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T05:01:07.920+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 91 ms. Found 3 JPA repository interfaces.
2024-07-15T05:01:08.283+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T05:01:08.287+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T05:01:08.451+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T05:01:08.928+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T05:01:08.932+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T05:01:08.970+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T05:01:09.014+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T05:01:09.020+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T05:01:09.300+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: f9009c713049986ededacaafb60e836e73fbcfe3fc67847670712b9d439f7af0
2024-07-15T05:01:10.010+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.995740229S
2024-07-15T05:01:10.025+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T05:01:10.026+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T05:01:10.027+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T05:01:10.032+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T05:01:10.035+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T05:01:10.214+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 10d632e4a8570e661ab21146111a321df920330c293f554b63428a6984c0050d
2024-07-15T05:01:10.691+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32810/test using query 'SELECT 1'
2024-07-15T05:01:33.466+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.433580856S
2024-07-15T05:01:33.467+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32810/test)
2024-07-15T05:01:34.792+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T05:01:34.813+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:01:34.818+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T05:01:34.819+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T05:01:34.890+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T05:01:34.892+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29120 ms
2024-07-15T05:01:35.850+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T05:01:36.279+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57cc0333
2024-07-15T05:01:36.282+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T05:01:37.453+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T05:01:37.958+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:01:38.277+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:01:38.296+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:01:38.386+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T05:01:38.388+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1050298388
2024-07-15T05:01:38.392+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:01:38.454+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T05:01:38.459+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T05:01:38.462+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T05:01:38.539+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T05:01:38.622+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T05:01:38.623+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 84ms
2024-07-15T05:01:38.638+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T05:01:38.707+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T05:01:38.888+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T05:01:38.890+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 250ms
2024-07-15T05:01:38.906+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T05:01:38.981+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T05:01:39.166+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T05:01:39.167+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 260ms
2024-07-15T05:01:39.186+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T05:01:39.194+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T05:01:39.199+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T05:01:39.203+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T05:01:39.212+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 24ms
2024-07-15T05:01:39.237+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T05:01:39.238+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T05:01:39.238+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T05:01:39.239+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T05:01:39.239+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T05:01:39.240+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T05:01:39.241+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T05:01:39.246+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T05:01:39.246+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T05:01:39.263+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T05:01:39.265+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T05:01:39.574+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T05:01:39.678+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T05:01:39.753+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T05:01:40.420+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T05:01:40.507+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T05:01:40.510+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T05:01:42.210+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T05:01:42.216+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:01:43.292+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T05:01:45.288+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T05:01:45.290+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T05:01:45.330+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T05:01:45.411+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 120 ms
2024-07-15T05:01:45.573+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:01:45.603+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 44213 (http) with context path '/'
2024-07-15T05:01:45.637+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 40.947 seconds (process running for 44.668)
2024-07-15T05:02:54.645+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m18s262ms678µs16ns).
2024-07-15T05:02:54.745+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T05:02:54.764+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T05:02:54.779+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:02:54.785+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T05:02:54.876+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T05:03:02.342+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T05:03:02.429+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 59690 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T05:03:02.435+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T05:03:04.479+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T05:03:04.579+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 89 ms. Found 3 JPA repository interfaces.
2024-07-15T05:03:04.921+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T05:03:04.926+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T05:03:05.159+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T05:03:05.707+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T05:03:05.710+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T05:03:05.741+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T05:03:05.806+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T05:03:05.816+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T05:03:06.238+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 5d90e415e72b3f2b70923093aa89d71845b75d0f18b795fa9d2f10f521a33903
2024-07-15T05:03:06.992+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.185098515S
2024-07-15T05:03:07.002+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T05:03:07.003+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T05:03:07.005+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T05:03:07.014+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T05:03:07.018+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T05:03:07.249+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: cdccb33083fde11ceb1c3d0992ce99ce9d799312aba7fd22d2c781c8d3f99e5d
2024-07-15T05:03:07.807+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32812/test using query 'SELECT 1'
2024-07-15T05:03:28.836+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT21.822045409S
2024-07-15T05:03:28.837+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32812/test)
2024-07-15T05:03:31.028+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T05:03:31.084+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:03:31.090+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T05:03:31.092+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T05:03:31.261+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T05:03:31.265+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28776 ms
2024-07-15T05:03:32.225+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T05:03:32.685+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@9120cb5
2024-07-15T05:03:32.688+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T05:03:33.928+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T05:03:34.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:03:34.719+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:03:34.744+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:03:34.811+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T05:03:34.816+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1050414815
2024-07-15T05:03:34.825+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:03:34.911+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T05:03:34.916+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T05:03:34.919+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T05:03:34.944+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T05:03:34.994+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T05:03:34.997+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 51ms
2024-07-15T05:03:35.015+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T05:03:35.069+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T05:03:35.183+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T05:03:35.184+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 168ms
2024-07-15T05:03:35.203+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T05:03:35.256+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T05:03:35.359+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T05:03:35.360+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 156ms
2024-07-15T05:03:35.374+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T05:03:35.379+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T05:03:35.384+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T05:03:35.389+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T05:03:35.395+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 21ms
2024-07-15T05:03:35.416+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T05:03:35.417+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T05:03:35.417+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T05:03:35.418+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T05:03:35.418+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T05:03:35.419+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T05:03:35.421+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T05:03:35.425+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T05:03:35.426+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T05:03:35.436+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T05:03:35.440+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T05:03:35.634+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T05:03:35.760+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T05:03:35.810+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T05:03:36.409+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T05:03:36.487+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T05:03:36.490+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T05:03:38.597+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T05:03:38.605+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:03:39.979+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T05:03:49.538+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T05:03:49.597+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 60377 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T05:03:49.602+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T05:03:51.700+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T05:03:51.810+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-15T05:03:52.347+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T05:03:52.354+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T05:03:52.625+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T05:03:53.237+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T05:03:53.239+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T05:03:53.256+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T05:03:53.294+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T05:03:53.300+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T05:03:53.629+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 8ab25db5d08e05748aa1f298d158d03eb46dbab62d6bf94c10da7809e17a5bda
2024-07-15T05:03:54.287+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.993000645S
2024-07-15T05:03:54.293+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T05:03:54.293+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T05:03:54.294+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T05:03:54.299+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T05:03:54.301+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T05:03:54.521+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: da78a93575b11fb7bb8b425d5f132b4003da52b59c7b84c01dc9c2fca0184d42
2024-07-15T05:03:55.030+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32814/test using query 'SELECT 1'
2024-07-15T05:04:18.807+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.507760429S
2024-07-15T05:04:18.808+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32814/test)
2024-07-15T05:04:20.728+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T05:04:20.769+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:04:20.805+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T05:04:20.806+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T05:04:20.909+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T05:04:20.912+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 31287 ms
2024-07-15T05:04:22.039+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T05:04:22.572+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@363ee411
2024-07-15T05:04:22.575+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T05:04:23.997+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T05:04:24.498+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:04:24.860+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:04:24.887+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:04:24.960+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T05:04:24.963+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1050464962
2024-07-15T05:04:24.968+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:04:25.029+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T05:04:25.040+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T05:04:25.042+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 12ms
2024-07-15T05:04:25.116+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T05:04:25.215+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T05:04:25.216+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 99ms
2024-07-15T05:04:25.245+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T05:04:25.329+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T05:04:25.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T05:04:25.538+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 292ms
2024-07-15T05:04:25.558+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T05:04:25.638+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T05:04:25.847+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T05:04:25.848+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 289ms
2024-07-15T05:04:25.887+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T05:04:25.898+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T05:04:25.903+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T05:04:25.907+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T05:04:25.919+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 31ms
2024-07-15T05:04:25.939+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T05:04:25.939+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T05:04:25.939+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T05:04:25.940+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T05:04:25.940+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T05:04:25.941+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T05:04:25.942+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T05:04:25.946+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T05:04:25.947+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T05:04:25.959+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T05:04:25.961+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T05:04:26.174+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T05:04:26.257+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T05:04:26.315+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T05:04:26.833+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T05:04:26.911+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T05:04:26.917+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T05:04:29.063+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T05:04:29.070+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:04:30.378+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T05:04:32.671+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T05:04:32.672+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T05:04:32.698+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T05:04:32.755+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 82 ms
2024-07-15T05:04:32.934+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:04:32.963+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 33377 (http) with context path '/'
2024-07-15T05:04:32.996+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 44.244 seconds (process running for 46.848)
2024-07-15T05:04:34.454+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 6695256a2f3b92230bcf4cf1b567ad9f,0bcf4cf1b567ad9f, | user.status : with message : user is not enabled
2024-07-15T05:04:34.502+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T05:04:34.539+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T05:04:34.564+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:04:34.572+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T05:04:34.699+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T05:07:17.373+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T05:07:17.474+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 61310 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T05:07:17.483+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T05:07:19.689+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T05:07:19.825+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 115 ms. Found 3 JPA repository interfaces.
2024-07-15T05:07:20.243+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T05:07:20.247+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T05:07:20.487+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T05:07:21.035+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T05:07:21.041+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T05:07:21.087+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T05:07:21.152+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T05:07:21.162+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T05:07:21.472+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 8be5b3b72a50641fb37a69bfc11ee3ebcdceee256c42c71828de2f56ea1e6dbc
2024-07-15T05:07:22.244+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.092212634S
2024-07-15T05:07:22.257+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T05:07:22.258+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T05:07:22.259+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T05:07:22.265+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T05:07:22.267+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T05:07:22.508+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 82f29d23befd0061685666d56aebde27780f7c6111494b35f776af1653d9b28b
2024-07-15T05:07:23.059+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32816/test using query 'SELECT 1'
2024-07-15T05:07:46.912+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.647527189S
2024-07-15T05:07:46.913+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32816/test)
2024-07-15T05:07:48.558+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T05:07:48.585+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:07:48.589+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T05:07:48.590+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T05:07:48.685+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T05:07:48.689+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 31162 ms
2024-07-15T05:07:49.547+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T05:07:50.194+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69cc3370
2024-07-15T05:07:50.198+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T05:07:51.461+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T05:07:51.902+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:07:52.146+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:07:52.166+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:07:52.224+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T05:07:52.227+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1050672226
2024-07-15T05:07:52.231+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:07:52.287+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T05:07:52.292+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T05:07:52.294+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T05:07:52.340+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T05:07:52.405+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T05:07:52.407+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 66ms
2024-07-15T05:07:52.435+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T05:07:52.489+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T05:07:52.602+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T05:07:52.604+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 167ms
2024-07-15T05:07:52.631+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T05:07:52.685+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T05:07:52.790+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T05:07:52.791+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 159ms
2024-07-15T05:07:52.806+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T05:07:52.813+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T05:07:52.820+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T05:07:52.825+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T05:07:52.831+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 25ms
2024-07-15T05:07:52.850+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T05:07:52.851+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T05:07:52.852+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T05:07:52.852+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T05:07:52.853+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T05:07:52.853+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T05:07:52.867+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T05:07:52.876+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T05:07:52.877+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T05:07:52.893+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T05:07:52.895+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T05:07:53.229+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T05:07:53.298+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T05:07:53.353+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T05:07:53.813+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T05:07:53.881+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T05:07:53.883+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T05:07:55.805+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T05:07:55.829+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:07:56.932+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T05:07:58.909+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T05:07:58.910+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T05:07:58.935+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T05:07:58.981+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 70 ms
2024-07-15T05:07:59.102+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:07:59.145+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 33551 (http) with context path '/'
2024-07-15T05:07:59.185+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.701 seconds (process running for 45.712)
2024-07-15T05:09:10.451+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T05:09:10.458+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T05:09:10.471+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:09:10.482+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T05:09:10.600+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T05:13:31.137+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T05:13:31.247+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 62649 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T05:13:31.263+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T05:13:33.394+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T05:13:33.522+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 112 ms. Found 3 JPA repository interfaces.
2024-07-15T05:13:33.971+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T05:13:33.976+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T05:13:34.261+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T05:13:34.806+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T05:13:34.809+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T05:13:34.841+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T05:13:34.889+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T05:13:34.898+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T05:13:35.263+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 573ca7f3157263d88f6f0ae7bbadf91d7d15863d052bbaaa85ad0de63ea4d26e
2024-07-15T05:13:35.926+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.036053881S
2024-07-15T05:13:35.940+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T05:13:35.941+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T05:13:35.942+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T05:13:35.947+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T05:13:35.950+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T05:13:36.163+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 5499f339aab5e2ab34145388610716a7cd002aef65f1f043ea9fd86c6a07ab64
2024-07-15T05:13:36.771+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32818/test using query 'SELECT 1'
2024-07-15T05:13:59.168+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.220628367S
2024-07-15T05:13:59.168+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32818/test)
2024-07-15T05:14:00.799+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T05:14:00.822+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:14:00.826+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T05:14:00.827+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T05:14:00.909+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T05:14:00.913+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29615 ms
2024-07-15T05:14:01.793+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T05:14:02.276+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@9120cb5
2024-07-15T05:14:02.279+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T05:14:03.395+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T05:14:11.280+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:14:11.546+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:14:11.579+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T05:14:11.680+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T05:14:11.682+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1051051681
2024-07-15T05:14:11.687+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T05:14:11.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T05:14:11.752+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T05:14:11.771+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 23ms
2024-07-15T05:14:11.874+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T05:14:11.945+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T05:14:11.946+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 72ms
2024-07-15T05:14:11.971+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T05:14:12.049+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T05:14:12.257+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T05:14:12.258+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 287ms
2024-07-15T05:14:12.276+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T05:14:12.351+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T05:14:12.548+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T05:14:12.550+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 272ms
2024-07-15T05:14:12.571+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T05:14:12.579+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_user
2024-07-15T05:14:12.585+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_account
2024-07-15T05:14:12.588+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | New row inserted into simple_journal
2024-07-15T05:14:12.598+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 26ms
2024-07-15T05:14:12.618+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T05:14:12.618+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T05:14:12.619+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T05:14:12.619+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T05:14:12.619+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T05:14:12.620+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T05:14:12.622+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T05:14:12.627+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T05:14:12.627+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T05:14:12.644+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T05:14:12.646+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T05:14:13.065+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T05:14:13.170+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T05:14:13.229+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T05:14:13.764+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T05:14:13.844+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T05:14:13.847+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T05:14:15.651+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T05:14:15.656+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T05:14:16.686+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T05:14:18.823+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T05:14:18.824+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T05:14:18.856+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T05:14:18.918+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 93 ms
2024-07-15T05:14:19.063+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T05:14:19.114+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 44883 (http) with context path '/'
2024-07-15T05:14:19.176+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 48.935 seconds (process running for 52.028)
2024-07-15T07:05:59.454+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h51m21s446ms894µs917ns).
2024-07-15T07:05:59.527+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:05:59.550+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:05:59.565+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:05:59.576+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:06:09.049+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:06:09.149+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 69533 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:06:09.158+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:06:11.342+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:06:11.447+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.
2024-07-15T07:06:11.787+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:06:11.792+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:06:12.075+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:06:12.621+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:06:12.624+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:06:12.653+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:06:12.702+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:06:12.709+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:06:13.149+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: a048ea9f62630db93d85caa502d4f4fddfa80d72f45ca8b5a190fee9671cdc57
2024-07-15T07:06:13.919+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.216194067S
2024-07-15T07:06:13.925+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:06:13.926+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:06:13.927+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:06:13.932+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:06:13.935+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:06:14.182+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: efe19a59be0a2092fdbb42de17ad821e6e08b5709a935250c04657f729689d15
2024-07-15T07:06:14.677+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32820/test using query 'SELECT 1'
2024-07-15T07:06:34.105+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT20.17323023S
2024-07-15T07:06:34.106+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32820/test)
2024-07-15T07:06:35.970+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:06:36.002+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:06:36.008+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:06:36.009+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:06:36.141+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:06:36.145+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 26943 ms
2024-07-15T07:06:37.464+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:06:38.066+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@fe38d1e
2024-07-15T07:06:38.070+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:06:39.305+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:06:39.939+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:06:40.207+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:06:40.227+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:06:40.295+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:06:40.297+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1057800297
2024-07-15T07:06:40.301+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:06:40.347+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:06:40.352+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:06:40.355+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T07:06:40.410+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:06:40.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:06:40.462+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 52ms
2024-07-15T07:06:40.478+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:06:40.532+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:06:40.652+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:06:40.654+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 174ms
2024-07-15T07:06:40.672+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:06:40.722+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:06:40.826+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:06:40.827+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 155ms
2024-07-15T07:06:40.837+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:06:40.851+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:06:40.857+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:06:40.862+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:06:40.869+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 31ms
2024-07-15T07:06:40.887+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:06:40.887+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:06:40.887+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:06:40.888+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:06:40.888+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:06:40.889+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:06:40.891+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:06:40.895+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:06:40.896+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:06:40.906+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:06:40.913+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:06:41.197+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:06:41.300+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:06:41.376+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:06:41.963+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:06:42.040+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:06:42.042+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:06:43.847+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:06:43.853+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:06:44.903+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:06:46.930+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:06:46.930+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:06:46.956+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:06:47.019+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 88 ms
2024-07-15T07:06:47.193+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:06:47.217+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 45939 (http) with context path '/'
2024-07-15T07:06:47.253+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.041 seconds (process running for 43.19)
2024-07-15T07:07:11.340+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:07:11.353+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:07:11.370+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:07:11.374+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:07:11.473+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:07:47.108+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:07:47.184+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 70268 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:07:47.192+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:07:49.242+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:07:49.382+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 121 ms. Found 3 JPA repository interfaces.
2024-07-15T07:07:49.722+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:07:49.728+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:07:50.007+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:07:50.526+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:07:50.530+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:07:50.564+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:07:50.616+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:07:50.627+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:07:50.911+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 4410d82807841a4d1e210a4d982e83d6b95f9223e3265770a4bb3df09acc62d6
2024-07-15T07:07:51.606+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.989915903S
2024-07-15T07:07:51.621+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:07:51.623+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:07:51.625+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:07:51.634+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:07:51.638+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:07:51.813+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 1aa28cb8f88230e030d2efc49f4f3a9c4463b43971ba8ea20473da7f9ae3e196
2024-07-15T07:07:52.346+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32822/test using query 'SELECT 1'
2024-07-15T07:08:18.111+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT26.477491202S
2024-07-15T07:08:18.112+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32822/test)
2024-07-15T07:08:19.708+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:08:19.742+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:08:19.747+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:08:19.747+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:08:19.872+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:08:19.878+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 32650 ms
2024-07-15T07:08:20.897+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:08:21.480+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69af938b
2024-07-15T07:08:21.484+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:08:22.586+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:08:23.345+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:08:23.638+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:08:23.673+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:08:23.707+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:08:23.710+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1057903709
2024-07-15T07:08:23.716+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:08:23.770+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:08:23.775+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:08:23.778+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T07:08:23.808+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:08:23.895+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:08:23.896+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 87ms
2024-07-15T07:08:23.913+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:08:23.981+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:08:24.168+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:08:24.170+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 255ms
2024-07-15T07:08:24.187+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:08:24.269+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:08:24.452+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:08:24.453+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 265ms
2024-07-15T07:08:24.465+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:08:24.479+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:08:24.485+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:08:24.490+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:08:24.505+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 40ms
2024-07-15T07:08:24.528+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:08:24.528+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:08:24.528+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:08:24.529+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:08:24.529+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:08:24.530+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:08:24.531+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:08:24.535+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:08:24.535+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:08:24.547+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:08:24.549+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:08:24.754+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:08:24.865+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:08:24.921+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:08:25.484+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:08:25.578+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:08:25.581+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:08:27.458+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:08:27.464+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:08:28.945+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:08:32.975+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:08:32.982+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:08:33.034+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:08:33.098+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 116 ms
2024-07-15T07:08:33.332+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:08:33.371+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 46883 (http) with context path '/'
2024-07-15T07:08:33.410+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 47.192 seconds (process running for 49.954)
2024-07-15T07:09:02.688+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:09:02.696+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:09:02.713+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:09:02.719+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:09:02.808+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:12:50.899+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:12:50.980+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 71128 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:12:50.986+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:12:53.792+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:12:53.889+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 85 ms. Found 3 JPA repository interfaces.
2024-07-15T07:12:54.237+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:12:54.240+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:12:54.394+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:12:54.861+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:12:54.864+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:12:54.892+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:12:54.938+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:12:54.946+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:12:55.425+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 21538ab1f1152e1fce80546844647281c3a30f8b448778dd10dddf0835707c1f
2024-07-15T07:12:56.213+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.274832751S
2024-07-15T07:12:56.222+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:12:56.222+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:12:56.223+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:12:56.228+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:12:56.231+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:12:56.486+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 3030c859523e309c4fff9dae3d2ef8e91d48a1d4dbbdd0466d5cac1e430e247b
2024-07-15T07:12:57.005+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32824/test using query 'SELECT 1'
2024-07-15T07:13:19.148+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.920035748S
2024-07-15T07:13:19.149+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32824/test)
2024-07-15T07:13:20.695+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:13:20.715+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:13:20.718+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:13:20.719+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:13:20.790+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:13:20.793+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29778 ms
2024-07-15T07:13:21.669+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:13:22.098+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d91147b
2024-07-15T07:13:22.102+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:13:23.323+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:13:23.952+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:13:24.202+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:13:24.217+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:13:24.253+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:13:24.255+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1058204254
2024-07-15T07:13:24.259+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:13:24.309+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:13:24.314+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:13:24.317+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T07:13:24.381+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:13:24.458+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:13:24.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 79ms
2024-07-15T07:13:24.482+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:13:24.555+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:13:24.734+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:13:24.736+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 253ms
2024-07-15T07:13:24.753+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:13:24.821+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:13:24.998+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:13:25.000+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 245ms
2024-07-15T07:13:25.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:13:25.028+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:13:25.035+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:13:25.041+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:13:25.054+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 40ms
2024-07-15T07:13:25.079+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:13:25.079+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:13:25.080+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:13:25.080+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:13:25.081+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:13:25.081+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:13:25.083+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:13:25.088+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:13:25.089+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:13:25.103+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:13:25.106+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:13:25.396+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:13:25.526+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:13:25.606+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:13:26.251+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:13:26.322+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:13:26.325+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:13:28.072+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:13:28.077+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:13:28.953+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:13:31.057+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:13:31.058+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:13:31.088+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:13:31.150+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 92 ms
2024-07-15T07:13:31.323+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:13:31.352+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36381 (http) with context path '/'
2024-07-15T07:13:31.393+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 41.799 seconds (process running for 45.527)
2024-07-15T07:13:44.447+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:13:44.455+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:13:44.485+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:13:44.491+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:13:44.600+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:16:36.691+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:16:36.775+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 72056 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:16:36.780+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:16:38.882+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:16:38.988+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 93 ms. Found 3 JPA repository interfaces.
2024-07-15T07:16:39.396+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:16:39.401+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:16:39.658+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:16:40.178+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:16:40.181+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:16:40.212+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:16:40.259+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:16:40.268+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:16:40.643+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: ff39be1674893cd032ded971141086e08dbf9263d30afbad33d7fd81b4f64e5d
2024-07-15T07:16:41.364+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.10387349S
2024-07-15T07:16:41.379+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:16:41.381+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:16:41.382+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:16:41.392+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:16:41.396+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:16:41.621+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 1d9cb6446c868327534f43669780a4d058e0279bf219c3c7cf9331e468eba339
2024-07-15T07:16:42.136+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32826/test using query 'SELECT 1'
2024-07-15T07:17:05.238+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.84659961S
2024-07-15T07:17:05.239+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32826/test)
2024-07-15T07:17:06.762+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:17:06.781+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:17:06.785+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:17:06.786+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:17:06.860+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:17:06.863+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30039 ms
2024-07-15T07:17:07.878+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:17:08.413+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1299fed3
2024-07-15T07:17:08.417+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:17:09.952+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:17:10.679+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:17:11.007+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:17:11.032+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:17:11.092+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:17:11.094+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1058431094
2024-07-15T07:17:11.097+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:17:11.133+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:17:11.137+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:17:11.139+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T07:17:11.162+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:17:11.234+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:17:11.235+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 73ms
2024-07-15T07:17:11.256+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:17:11.337+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:17:11.503+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:17:11.505+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 247ms
2024-07-15T07:17:11.531+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:17:11.602+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:17:11.785+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:17:11.787+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 255ms
2024-07-15T07:17:11.807+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:17:11.822+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:17:11.829+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:17:11.834+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:17:11.841+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 32ms
2024-07-15T07:17:11.858+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:17:11.858+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:17:11.859+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:17:11.859+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:17:11.859+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:17:11.859+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:17:11.861+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:17:11.864+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:17:11.864+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:17:11.879+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:17:11.882+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:17:12.102+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:17:12.216+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:17:12.289+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:17:12.754+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:17:12.820+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:17:12.821+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:17:14.508+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:17:14.517+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:17:15.644+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:17:17.598+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:17:17.599+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:17:17.629+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:17:17.692+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 92 ms
2024-07-15T07:17:17.861+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:17:17.892+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 37203 (http) with context path '/'
2024-07-15T07:17:17.919+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.051 seconds (process running for 44.79)
2024-07-15T07:20:12.427+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m29s257ms88µs896ns).
2024-07-15T07:20:12.531+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:20:12.544+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:20:12.557+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:20:12.563+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:20:12.640+03:30 | WARN | [main] | c.z.h.p.ProxyConnection | 6695449f52175e20330ee098a306a719,330ee098a306a719, | HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@4136d4da marked as broken because of SQLSTATE(08007), ErrorCode(0) java.sql.SQLNonTransientConnectionException: Communications link failure during rollback(). Transaction resolution unknown.---	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:111)---	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:98)---	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:90)---	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:64)---	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1814)---	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:386)---	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)---	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:127)---	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:289)
2024-07-15T07:20:12.653+03:30 | ERROR | [main] | o.s.t.i.TransactionAspectSupport | 6695449f52175e20330ee098a306a719,330ee098a306a719, | Application exception overridden by rollback exception java.lang.IllegalStateException: Session/EntityManager is closed---	at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:487)---	at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:187)---	at org.hibernate.internal.AbstractSharedSessionContract.checkOpenOrWaitingForAutoClose(AbstractSharedSessionContract.java:505)---	at org.hibernate.internal.SessionImpl.checkOpenOrWaitingForAutoClose(SessionImpl.java:618)---	at org.hibernate.internal.SessionImpl.getPersistenceContext(SessionImpl.java:1843)---	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:151)---	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)---	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211)---	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
2024-07-15T07:20:12.670+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:24:29.473+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:24:29.556+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 73194 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:24:29.563+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:24:31.729+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:24:31.877+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 131 ms. Found 3 JPA repository interfaces.
2024-07-15T07:24:32.237+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:24:32.246+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:24:32.486+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:24:33.042+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:24:33.045+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:24:33.077+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:24:33.128+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:24:33.136+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:24:33.532+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 134d3856ef33de236e7e4dbeac9091ab5c99da56d2d6d73aedcd04fd42e836e9
2024-07-15T07:24:34.309+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.180770747S
2024-07-15T07:24:34.319+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:24:34.319+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:24:34.323+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:24:34.328+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:24:34.330+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:24:34.592+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: a3872a654e01bdbb8dcd26fef3babc787d5a97c0067b6df5c03b2d1b0dc6b23d
2024-07-15T07:24:35.172+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32828/test using query 'SELECT 1'
2024-07-15T07:24:57.677+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.349238319S
2024-07-15T07:24:57.678+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32828/test)
2024-07-15T07:24:59.316+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:24:59.341+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:24:59.346+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:24:59.347+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:24:59.423+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:24:59.426+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29814 ms
2024-07-15T07:25:00.307+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:25:00.762+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@18419ab7
2024-07-15T07:25:00.765+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:25:01.898+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:25:02.370+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:25:02.718+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:25:02.734+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:25:02.784+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:25:02.787+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1058902786
2024-07-15T07:25:02.792+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:25:02.842+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:25:02.847+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:25:02.850+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 7ms
2024-07-15T07:25:02.870+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:25:02.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:25:02.918+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 48ms
2024-07-15T07:25:02.947+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:25:03.005+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:25:03.120+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:25:03.122+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 173ms
2024-07-15T07:25:03.139+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:25:03.190+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:25:03.290+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:25:03.291+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 151ms
2024-07-15T07:25:03.302+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:25:03.317+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:25:03.326+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:25:03.331+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:25:03.337+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 34ms
2024-07-15T07:25:03.354+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:25:03.354+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:25:03.355+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:25:03.355+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:25:03.355+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:25:03.356+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:25:03.358+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:25:03.362+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:25:03.363+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:25:03.374+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:25:03.376+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:25:03.592+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:25:03.686+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:25:03.753+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:25:04.303+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:25:04.378+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:25:04.380+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:25:06.284+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:25:06.291+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:25:07.488+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:25:09.553+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:25:09.554+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:25:09.579+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:25:09.663+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 109 ms
2024-07-15T07:25:09.839+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:25:09.864+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 43019 (http) with context path '/'
2024-07-15T07:25:09.893+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 41.278 seconds (process running for 44.129)
2024-07-15T07:28:07.206+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m6s340ms391µs537ns).
2024-07-15T07:28:07.453+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:28:07.490+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:28:07.514+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:28:19.751+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:28:19.818+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 74082 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:28:19.827+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:28:22.382+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:28:22.473+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 79 ms. Found 3 JPA repository interfaces.
2024-07-15T07:28:22.859+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:28:22.863+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:28:23.051+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:28:23.689+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:28:23.697+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:28:23.737+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:28:23.791+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:28:23.801+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:28:24.150+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: ad67615efebd65e73c7551aa5018e21fcbbc83a4d5eed01c6b7b49181499c6dc
2024-07-15T07:28:24.958+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.166901433S
2024-07-15T07:28:24.972+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:28:24.973+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:28:24.974+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:28:24.979+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:28:24.982+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:28:25.224+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 0e0c1f64a0612d9766e4b8c3408c71d8e4c731f30b61542b1dabf1034b00c362
2024-07-15T07:28:25.818+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32830/test using query 'SELECT 1'
2024-07-15T07:28:47.278+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.29877701S
2024-07-15T07:28:47.279+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32830/test)
2024-07-15T07:28:49.141+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:28:49.164+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:28:49.169+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:28:49.169+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:28:49.251+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:28:49.254+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29384 ms
2024-07-15T07:28:50.363+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:28:50.864+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bb45afc
2024-07-15T07:28:50.867+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:28:52.146+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:28:52.741+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:28:53.120+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:28:53.142+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:28:53.231+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:28:53.234+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1059133233
2024-07-15T07:28:53.237+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:28:53.290+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:28:53.296+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:28:53.299+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 7ms
2024-07-15T07:28:53.373+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:28:53.463+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:28:53.464+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 89ms
2024-07-15T07:28:53.488+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:28:53.577+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:28:53.762+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:28:53.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 271ms
2024-07-15T07:28:53.784+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:28:53.859+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:28:54.059+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:28:54.061+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 276ms
2024-07-15T07:28:54.081+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:28:54.100+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:28:54.108+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:28:54.122+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:28:54.135+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 53ms
2024-07-15T07:28:54.156+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:28:54.157+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:28:54.157+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:28:54.157+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:28:54.158+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:28:54.158+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:28:54.161+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:28:54.167+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:28:54.169+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:28:54.189+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:28:54.192+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:28:54.493+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:28:54.595+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:28:54.641+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:28:55.229+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:28:55.301+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:28:55.303+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:28:57.336+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:28:57.342+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:28:58.871+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:29:02.174+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:29:02.175+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:29:02.205+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:29:02.269+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 94 ms
2024-07-15T07:29:02.576+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:29:02.602+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 45947 (http) with context path '/'
2024-07-15T07:29:02.639+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 44.205 seconds (process running for 48.286)
2024-07-15T07:29:22.700+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:29:22.705+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:29:22.719+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:29:22.724+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:29:22.743+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:29:47.316+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:29:47.368+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 74978 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:29:47.374+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:29:49.473+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:29:49.583+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 98 ms. Found 3 JPA repository interfaces.
2024-07-15T07:29:50.005+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:29:50.010+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:29:50.250+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:29:50.821+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:29:50.824+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:29:50.856+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:29:50.927+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:29:50.933+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:29:51.379+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 0f3dfc054a834ba4bb8278b6b2af648aac971bf38c33ea187f22bad0c3932e69
2024-07-15T07:29:52.129+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.202653042S
2024-07-15T07:29:52.139+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:29:52.139+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:29:52.141+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:29:52.147+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:29:52.150+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:29:52.363+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 27801c68268fa389bc8048c719237b39497a85595f4bef93753df74e2956ae10
2024-07-15T07:29:52.992+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32832/test using query 'SELECT 1'
2024-07-15T07:30:16.527+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.379699792S
2024-07-15T07:30:16.528+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32832/test)
2024-07-15T07:30:18.343+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:30:18.367+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:30:18.380+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:30:18.381+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:30:18.483+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:30:18.487+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 31079 ms
2024-07-15T07:30:19.751+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:30:20.299+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69af938b
2024-07-15T07:30:20.302+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:30:21.370+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:30:22.014+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:30:22.306+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:30:22.326+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:30:22.381+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:30:22.384+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1059222383
2024-07-15T07:30:22.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:30:22.495+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:30:22.500+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:30:22.502+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T07:30:22.553+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:30:22.671+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:30:22.673+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 117ms
2024-07-15T07:30:22.693+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:30:22.763+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:30:22.960+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:30:22.962+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 267ms
2024-07-15T07:30:22.976+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:30:23.051+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:30:23.241+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:30:23.242+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 265ms
2024-07-15T07:30:23.256+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:30:23.269+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:30:23.275+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:30:23.279+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:30:23.288+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 30ms
2024-07-15T07:30:23.308+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:30:23.308+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:30:23.308+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:30:23.309+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:30:23.309+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:30:23.309+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:30:23.311+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:30:23.314+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:30:23.315+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:30:23.329+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:30:23.331+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:30:23.522+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:30:23.648+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:30:23.721+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:30:24.285+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:30:24.373+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:30:24.376+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:30:26.344+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:30:26.354+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:30:27.563+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:30:29.682+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:30:29.683+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:30:29.718+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:30:29.823+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 139 ms
2024-07-15T07:30:30.022+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:30:30.055+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 43843 (http) with context path '/'
2024-07-15T07:30:30.092+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 43.717 seconds (process running for 47.326)
2024-07-15T07:31:48.407+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=57s482ms389µs28ns).
2024-07-15T07:31:48.465+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:31:48.469+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:31:48.490+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:31:48.495+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:31:48.510+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:31:58.225+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:31:58.309+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 75798 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:31:58.316+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:32:00.496+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:32:00.612+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 102 ms. Found 3 JPA repository interfaces.
2024-07-15T07:32:01.001+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:32:01.004+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:32:01.251+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:32:01.843+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:32:01.847+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:32:01.878+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:32:01.924+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:32:01.934+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:32:02.350+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: c8fa0d84b732dd24bb2060f1661be0a971556a1138566223cb13f04334d2f65f
2024-07-15T07:32:03.035+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.111024339S
2024-07-15T07:32:03.049+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:32:03.051+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:32:03.052+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:32:03.059+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:32:03.062+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:32:03.321+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: a50d6846c053e1e8470d1264246146bbd6c9162024e91336d16f40a3fd621648
2024-07-15T07:32:03.883+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32834/test using query 'SELECT 1'
2024-07-15T07:32:30.254+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:32:30.438+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 76312 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:32:30.461+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:32:32.898+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:32:33.008+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
2024-07-15T07:32:33.450+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:32:33.456+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:32:33.689+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:32:34.211+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:32:34.214+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:32:34.244+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:32:34.294+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:32:34.303+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:32:34.696+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 823a6e2e5c87e72db95d1ec59ca5e5019da407a5a32372ad909ceb2f2f611048
2024-07-15T07:32:35.542+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.24836144S
2024-07-15T07:32:35.559+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:32:35.561+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:32:35.565+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:32:35.572+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:32:35.575+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:32:35.801+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: c02d8c8b9a6f1a7771b94e4222aed7aa16a94d9d86009d6dca7451b1e8862060
2024-07-15T07:32:36.329+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32836/test using query 'SELECT 1'
2024-07-15T07:32:58.993+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.421060044S
2024-07-15T07:32:58.993+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32836/test)
2024-07-15T07:33:00.488+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:33:00.511+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:33:00.516+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:33:00.517+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:33:00.608+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:33:00.612+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30100 ms
2024-07-15T07:33:01.558+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:33:02.057+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fd7085d
2024-07-15T07:33:02.061+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:33:03.245+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:33:04.105+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:33:04.373+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:33:04.389+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:33:04.445+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:33:04.447+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1059384447
2024-07-15T07:33:04.450+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:33:04.487+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:33:04.491+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:33:04.493+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 3ms
2024-07-15T07:33:04.515+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:33:04.588+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:33:04.590+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 73ms
2024-07-15T07:33:04.615+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:33:04.700+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:33:04.890+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:33:04.892+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 273ms
2024-07-15T07:33:04.911+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:33:04.990+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:33:05.184+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:33:05.185+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 273ms
2024-07-15T07:33:05.200+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:33:05.212+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:33:05.218+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:33:05.222+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:33:05.235+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 35ms
2024-07-15T07:33:05.259+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:33:05.260+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:33:05.260+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:33:05.261+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:33:05.261+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:33:05.262+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:33:05.264+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:33:05.269+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:33:05.270+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:33:05.282+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:33:05.284+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:33:05.471+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:33:05.545+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:33:05.589+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:33:06.199+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:33:06.288+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:33:06.292+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:33:08.043+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:33:08.048+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:33:09.100+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:33:11.102+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:33:11.102+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:33:11.130+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:33:11.179+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 76 ms
2024-07-15T07:33:11.325+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:33:11.387+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 42891 (http) with context path '/'
2024-07-15T07:33:11.421+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.251 seconds (process running for 45.591)
2024-07-15T07:33:51.351+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s190ms400µs738ns).
2024-07-15T07:33:51.561+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:33:51.572+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:33:51.589+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:33:51.593+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:33:51.686+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:34:33.639+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:34:33.723+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 77117 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:34:33.734+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:34:36.336+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:34:36.493+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 139 ms. Found 3 JPA repository interfaces.
2024-07-15T07:34:36.883+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:34:36.887+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:34:37.096+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:34:37.656+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:34:37.659+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:34:37.688+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:34:37.742+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:34:37.753+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:34:38.099+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 3aa0e17e3b67b2af316d3942dd38d9e439cac43a7f56a5d5ad46be22096e1b21
2024-07-15T07:34:38.881+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.138930825S
2024-07-15T07:34:38.897+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:34:38.899+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:34:38.901+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:34:38.912+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:34:38.916+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:34:39.127+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 3bee1b410ac5a138863cc1737f06cb4326dea81d34dd2c80caf8b2aa38fcac9c
2024-07-15T07:34:39.679+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32838/test using query 'SELECT 1'
2024-07-15T07:35:03.203+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.291561753S
2024-07-15T07:35:03.204+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32838/test)
2024-07-15T07:35:04.770+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:35:04.797+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:35:04.802+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:35:04.803+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:35:04.897+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:35:04.902+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 31125 ms
2024-07-15T07:35:05.864+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:35:06.367+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@761ea1f5
2024-07-15T07:35:06.370+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:35:07.506+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:35:13.428+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:35:13.788+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:35:13.808+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:35:13.916+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:35:13.918+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1059513917
2024-07-15T07:35:13.921+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:35:13.965+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:35:13.970+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:35:13.973+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T07:35:14.074+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:35:14.186+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:35:14.188+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 112ms
2024-07-15T07:35:14.222+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:35:14.345+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:35:14.544+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:35:14.545+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 322ms
2024-07-15T07:35:14.570+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:35:14.655+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:35:14.849+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:35:14.850+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 280ms
2024-07-15T07:35:14.866+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:35:14.878+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:35:14.883+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:35:14.888+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:35:14.896+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 29ms
2024-07-15T07:35:14.912+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:35:14.913+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:35:14.913+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:35:14.914+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:35:14.914+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:35:14.914+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:35:14.916+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:35:14.920+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:35:14.920+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:35:14.935+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:35:14.937+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:35:15.145+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:35:15.245+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:35:15.313+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:35:16.034+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:35:16.122+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:35:16.125+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:35:18.098+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:35:18.105+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:35:19.045+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:35:21.073+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:35:21.074+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:35:21.099+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:35:21.145+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 71 ms
2024-07-15T07:35:21.290+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:35:21.340+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 35637 (http) with context path '/'
2024-07-15T07:35:21.378+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 48.64 seconds (process running for 52.741)
2024-07-15T07:35:54.230+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s759ms512µs35ns).
2024-07-15T07:36:10.451+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:36:10.454+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:36:10.468+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:36:10.476+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:36:10.555+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:37:46.087+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:37:46.133+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 78043 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:37:46.139+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:37:48.416+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:37:48.513+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.
2024-07-15T07:37:48.887+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:37:48.897+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:37:49.220+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:37:50.078+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:37:50.086+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:37:50.121+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:37:50.185+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:37:50.199+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:37:50.538+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: fe74f507caeee174541f275cf66075f7ba4131f2a665e46bc0c60790993671c2
2024-07-15T07:37:51.342+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.156137639S
2024-07-15T07:37:51.355+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:37:51.355+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:37:51.357+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:37:51.363+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:37:51.366+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:37:51.626+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 9cf86c021db9f508915dfee19e2ef8f822369f2614f5627fd2f6670f1f0a2322
2024-07-15T07:37:52.234+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32840/test using query 'SELECT 1'
2024-07-15T07:38:13.049+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT21.685018135S
2024-07-15T07:38:13.051+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32840/test)
2024-07-15T07:38:14.623+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:38:14.647+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:38:14.651+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:38:14.652+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:38:14.734+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:38:14.737+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28573 ms
2024-07-15T07:38:15.693+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:38:16.184+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cb87009
2024-07-15T07:38:16.187+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:38:17.392+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:38:17.991+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:38:18.236+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:38:18.259+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:38:18.288+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:38:18.291+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1059698291
2024-07-15T07:38:18.296+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:38:18.347+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:38:18.356+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:38:18.359+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T07:38:18.420+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:38:18.497+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:38:18.499+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 79ms
2024-07-15T07:38:18.524+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:38:18.596+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:38:18.775+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:38:18.776+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 251ms
2024-07-15T07:38:18.792+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:38:18.864+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:38:19.045+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:38:19.047+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 253ms
2024-07-15T07:38:19.061+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:38:19.075+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:38:19.082+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:38:19.089+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:38:19.102+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 41ms
2024-07-15T07:38:19.126+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:38:19.126+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:38:19.126+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:38:19.127+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:38:19.127+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:38:19.128+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:38:19.129+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:38:19.133+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:38:19.134+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:38:19.146+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:38:19.148+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:38:19.386+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:38:19.486+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:38:19.540+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:38:20.040+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:38:20.113+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:38:20.116+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:38:21.826+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:38:21.831+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:38:22.920+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:39:10.716+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:39:10.778+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 78768 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:39:10.785+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:39:12.882+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:39:12.996+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 100 ms. Found 3 JPA repository interfaces.
2024-07-15T07:39:13.375+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:39:13.380+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:39:13.625+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:39:14.111+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:39:14.114+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:39:14.146+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:39:14.198+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:39:14.205+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:39:14.523+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: d5f37173939b7addad1592a4c30ddba95622458e35686275265439d5f33a2578
2024-07-15T07:39:15.238+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.039669015S
2024-07-15T07:39:15.248+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:39:15.249+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:39:15.250+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:39:15.256+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:39:15.258+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:39:15.433+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: e08d505627c08825ecba5ead735617089e4c93a8d0f13c5f5ba3333663f1a39c
2024-07-15T07:39:15.992+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32842/test using query 'SELECT 1'
2024-07-15T07:39:39.704+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.44786844S
2024-07-15T07:39:39.705+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32842/test)
2024-07-15T07:39:41.411+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:39:41.444+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:39:41.449+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:39:41.450+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:39:41.631+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:39:41.636+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30810 ms
2024-07-15T07:39:42.839+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:39:43.440+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a91027c
2024-07-15T07:39:43.442+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:39:44.745+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:39:45.398+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:39:45.680+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:39:45.711+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:39:45.761+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:39:45.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1059785764
2024-07-15T07:39:45.769+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:39:45.841+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:39:45.851+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:39:45.854+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 7ms
2024-07-15T07:39:45.885+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:39:45.965+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:39:45.968+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 82ms
2024-07-15T07:39:46.001+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:39:46.073+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:39:46.267+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:39:46.268+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 266ms
2024-07-15T07:39:46.293+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:39:46.378+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:39:46.567+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:39:46.569+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 274ms
2024-07-15T07:39:46.585+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:39:46.599+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:39:46.606+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:39:46.612+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:39:46.621+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 36ms
2024-07-15T07:39:46.644+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:39:46.644+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:39:46.645+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:39:46.645+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:39:46.646+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:39:46.646+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:39:46.648+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:39:46.651+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:39:46.652+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:39:46.669+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:39:46.672+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:39:46.868+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:39:46.955+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:39:47.011+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:39:47.512+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:39:47.599+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:39:47.601+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:39:49.508+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:39:49.514+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:39:50.818+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:39:52.887+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:39:52.888+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:39:52.915+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:39:53.002+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 113 ms
2024-07-15T07:39:53.180+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:39:53.205+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 39861 (http) with context path '/'
2024-07-15T07:39:53.239+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 43.367 seconds (process running for 46.958)
2024-07-15T07:40:09.882+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:40:09.885+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:40:09.895+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:40:09.898+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:40:09.911+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:41:21.243+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:41:21.319+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 79517 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:41:21.327+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:41:23.384+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:41:23.475+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 80 ms. Found 3 JPA repository interfaces.
2024-07-15T07:41:23.813+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:41:23.819+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:41:24.063+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:41:24.595+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:41:24.598+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:41:24.629+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:41:24.687+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:41:24.699+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:41:25.150+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: b21db92dca53612efc60053b9803c20e622234dc9028a1b23bef4956ade23d63
2024-07-15T07:41:25.850+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.162512403S
2024-07-15T07:41:25.862+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:41:25.862+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:41:25.864+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:41:25.871+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:41:25.876+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:41:26.081+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: fc9095c8b11d03f1d206f94df8e94728b6c54e251527293692a88de6300ff9f9
2024-07-15T07:41:26.727+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32844/test using query 'SELECT 1'
2024-07-15T07:41:49.077+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.206756395S
2024-07-15T07:41:49.078+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32844/test)
2024-07-15T07:41:50.662+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:41:50.684+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:41:50.688+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:41:50.688+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:41:50.757+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:41:50.761+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29379 ms
2024-07-15T07:41:51.733+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:41:52.225+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fb2645b
2024-07-15T07:41:52.227+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:41:53.327+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:41:54.008+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:41:54.330+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:41:54.363+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:41:54.399+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:41:54.404+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1059914402
2024-07-15T07:41:54.408+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:41:54.454+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:41:54.458+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:41:54.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 4ms
2024-07-15T07:41:54.550+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:41:54.630+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:41:54.631+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 80ms
2024-07-15T07:41:54.650+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:41:54.726+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:41:54.906+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:41:54.908+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 256ms
2024-07-15T07:41:54.927+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:41:54.999+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:41:55.189+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:41:55.190+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 262ms
2024-07-15T07:41:55.205+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:41:55.220+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:41:55.225+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:41:55.230+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:41:55.242+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 36ms
2024-07-15T07:41:55.263+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:41:55.263+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:41:55.264+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:41:55.264+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:41:55.264+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:41:55.265+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:41:55.266+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:41:55.269+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:41:55.270+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:41:55.281+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:41:55.283+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:41:55.473+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:41:55.565+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:41:55.632+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:41:56.325+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:41:56.426+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:41:56.429+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:41:58.336+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:41:58.342+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:41:59.287+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:42:01.052+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:42:01.053+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:42:01.085+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:42:01.139+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 85 ms
2024-07-15T07:42:01.326+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:42:01.356+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 34175 (http) with context path '/'
2024-07-15T07:42:01.400+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 41.009 seconds (process running for 44.041)
2024-07-15T07:49:56.655+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m4s328ms40µs427ns).
2024-07-15T07:49:56.709+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:49:56.717+03:30 | INFO | [tomcat-shutdown] | o.a.j.l.DirectJDKLog | ,, | Pausing ProtocolHandler ["http-nio-auto-1-34175"]
2024-07-15T07:49:56.721+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:49:56.722+03:30 | INFO | [SpringApplicationShutdownHook] | o.a.j.l.DirectJDKLog | ,, | Stopping ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:49:56.738+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:49:56.742+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:50:05.795+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:50:05.873+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 80604 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:50:05.890+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:50:07.952+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:50:08.046+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 83 ms. Found 3 JPA repository interfaces.
2024-07-15T07:50:08.395+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:50:08.399+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:50:08.590+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:50:09.086+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:50:09.088+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:50:09.119+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:50:09.165+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:50:09.173+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:50:09.472+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 2e485bc34ae0bca5cf4d90a20f24bae0e17022ec0a37d8396f0da4dbfe32e5c1
2024-07-15T07:50:10.141+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.975696875S
2024-07-15T07:50:10.151+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:50:10.152+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:50:10.153+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:50:10.159+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:50:10.161+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:50:10.342+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 205fd4210f9976e0d8762080c182adf859e6776168659390faa00b2e30ffbc5d
2024-07-15T07:50:10.883+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32846/test using query 'SELECT 1'
2024-07-15T07:50:28.479+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.320029538S
2024-07-15T07:50:28.480+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32846/test)
2024-07-15T07:50:30.142+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:50:30.168+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:50:30.172+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:50:30.173+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:50:30.254+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:50:30.259+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 24324 ms
2024-07-15T07:50:31.479+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:50:32.360+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17b9c9ff
2024-07-15T07:50:32.365+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:50:34.767+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:50:35.477+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:50:35.790+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:50:35.812+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:50:35.853+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:50:35.856+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1060435855
2024-07-15T07:50:35.860+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:50:35.912+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:50:35.922+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:50:35.927+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 10ms
2024-07-15T07:50:35.974+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:50:36.066+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:50:36.068+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 93ms
2024-07-15T07:50:36.094+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:50:36.185+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:50:36.376+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:50:36.377+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 282ms
2024-07-15T07:50:36.398+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:50:36.466+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:50:36.662+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:50:36.663+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 265ms
2024-07-15T07:50:36.675+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:50:36.691+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:50:36.699+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:50:36.705+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:50:36.717+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 40ms
2024-07-15T07:50:36.739+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:50:36.740+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:50:36.740+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:50:36.740+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:50:36.741+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:50:36.741+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:50:36.742+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:50:36.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:50:36.747+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:50:36.762+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:50:36.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:50:36.998+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:50:37.100+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:50:37.148+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:50:37.616+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:50:37.711+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:50:37.722+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:50:39.484+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:50:39.490+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:50:41.269+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:50:43.947+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:50:43.948+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:50:43.972+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:50:44.068+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 120 ms
2024-07-15T07:50:44.238+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:50:44.280+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36545 (http) with context path '/'
2024-07-15T07:50:44.327+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.451 seconds (process running for 42.249)
2024-07-15T07:51:13.096+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 66954c76563f5f0409044d199de6836c,09044d199de6836c, | account.balance : with message : balance is wrong
2024-07-15T07:51:13.135+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:51:13.138+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:51:13.150+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:51:13.157+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:51:13.249+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:52:15.416+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:52:15.457+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 81425 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:52:15.467+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:52:17.519+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:52:17.647+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 110 ms. Found 3 JPA repository interfaces.
2024-07-15T07:52:18.035+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:52:18.039+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:52:18.222+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:52:18.729+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:52:18.732+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:52:18.756+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:52:18.802+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:52:18.809+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:52:19.202+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 60e07045a63e1534c4cdf9c357fa82708d8a62415317c64279289a3d4a0c2f93
2024-07-15T07:52:19.916+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.114205571S
2024-07-15T07:52:19.930+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:52:19.931+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:52:19.933+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:52:19.938+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:52:19.941+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:52:20.135+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 73320288f1e83d3d866f4fc9656095181e8c46955171ba4fde5180fe7863bebb
2024-07-15T07:52:20.636+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32848/test using query 'SELECT 1'
2024-07-15T07:52:44.595+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.65679033S
2024-07-15T07:52:44.596+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32848/test)
2024-07-15T07:52:46.269+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:52:46.301+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:52:46.306+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:52:46.307+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:52:46.406+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:52:46.412+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30899 ms
2024-07-15T07:52:47.368+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:52:47.879+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@755fdfad
2024-07-15T07:52:47.882+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:52:49.062+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:52:49.658+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:52:49.946+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:52:49.967+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:52:50.004+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:52:50.008+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1060570007
2024-07-15T07:52:50.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:52:50.065+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:52:50.070+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:52:50.073+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 6ms
2024-07-15T07:52:50.163+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:52:50.240+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:52:50.242+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 78ms
2024-07-15T07:52:50.270+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:52:50.336+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:52:50.517+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:52:50.518+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 248ms
2024-07-15T07:52:50.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:52:50.610+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:52:50.802+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:52:50.803+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 266ms
2024-07-15T07:52:50.815+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:52:50.828+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:52:50.835+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:52:50.839+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:52:50.847+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 31ms
2024-07-15T07:52:50.868+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:52:50.869+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:52:50.869+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:52:50.869+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:52:50.870+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:52:50.870+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:52:50.872+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:52:50.876+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:52:50.876+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:52:50.894+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:52:50.896+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:52:51.034+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:52:51.128+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:52:51.171+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:52:51.563+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:52:51.626+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:52:51.628+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:52:53.029+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:52:53.034+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:52:53.871+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:52:55.530+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:52:55.531+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:52:55.554+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:52:55.600+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 69 ms
2024-07-15T07:52:55.725+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:52:55.763+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 41117 (http) with context path '/'
2024-07-15T07:52:55.799+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 41.278 seconds (process running for 44.0)
2024-07-15T07:53:04.949+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 66954ce860739a5fcb69b0abf36b13b5,cb69b0abf36b13b5, | account.balance : with message : balance is wrong
2024-07-15T07:53:05.012+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:53:05.016+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:53:05.029+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:53:05.038+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T07:53:05.071+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T07:54:36.345+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T07:54:36.446+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 82183 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T07:54:36.455+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T07:54:38.433+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T07:54:38.538+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 94 ms. Found 3 JPA repository interfaces.
2024-07-15T07:54:38.841+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T07:54:38.845+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T07:54:39.037+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T07:54:39.477+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T07:54:39.479+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T07:54:39.504+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T07:54:39.559+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T07:54:39.569+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T07:54:39.929+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 597072d5ffa19c46f6a3c8ad93eeb3e4a6f55e00fd9a2f69629bccbf119bff99
2024-07-15T07:54:40.591+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.03270203S
2024-07-15T07:54:40.602+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T07:54:40.604+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T07:54:40.605+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T07:54:40.611+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T07:54:40.614+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T07:54:40.860+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 04fa40bc0f018265a010f0705a9dc137d44e9436c19815611123102761fcfaab
2024-07-15T07:54:41.429+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32850/test using query 'SELECT 1'
2024-07-15T07:54:58.786+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.175053718S
2024-07-15T07:54:58.787+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32850/test)
2024-07-15T07:55:00.463+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T07:55:00.493+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:55:00.499+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T07:55:00.501+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T07:55:00.613+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T07:55:00.617+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 24107 ms
2024-07-15T07:55:01.887+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T07:55:02.793+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7b45f7ef
2024-07-15T07:55:02.799+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T07:55:05.018+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T07:55:05.736+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:55:05.960+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:55:05.979+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T07:55:06.024+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T07:55:06.027+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1060706026
2024-07-15T07:55:06.032+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T07:55:06.076+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T07:55:06.082+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T07:55:06.085+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 7ms
2024-07-15T07:55:06.113+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T07:55:06.172+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T07:55:06.174+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 60ms
2024-07-15T07:55:06.188+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T07:55:06.241+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T07:55:06.353+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T07:55:06.354+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 166ms
2024-07-15T07:55:06.368+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T07:55:06.414+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T07:55:06.518+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T07:55:06.519+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 150ms
2024-07-15T07:55:06.530+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T07:55:06.546+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:55:06.552+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:55:06.557+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T07:55:06.563+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 32ms
2024-07-15T07:55:06.584+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T07:55:06.585+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T07:55:06.585+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T07:55:06.586+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T07:55:06.586+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T07:55:06.586+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T07:55:06.587+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T07:55:06.591+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T07:55:06.591+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T07:55:06.602+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T07:55:06.604+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T07:55:06.981+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T07:55:07.138+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T07:55:07.206+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T07:55:07.697+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T07:55:07.758+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T07:55:07.760+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T07:55:09.544+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T07:55:09.549+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:55:10.719+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T07:55:12.747+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T07:55:12.749+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T07:55:12.775+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T07:55:12.827+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 77 ms
2024-07-15T07:55:12.963+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T07:55:13.009+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 39857 (http) with context path '/'
2024-07-15T07:55:13.047+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 37.579 seconds (process running for 41.3)
2024-07-15T07:58:05.192+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m32s279ms484µs413ns).
2024-07-15T07:58:05.201+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 66954d78315da3517f276f4c5a4ca996,7f276f4c5a4ca996, | account.balance : with message : balance is wrong
2024-07-15T07:58:05.273+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T07:58:05.303+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T07:58:05.321+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T07:58:05.327+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:00:59.526+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:00:59.630+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 83788 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:00:59.645+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:01:01.532+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:01:01.627+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.
2024-07-15T08:01:02.018+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:01:02.023+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:01:02.238+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:01:02.705+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:01:02.707+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:01:02.725+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:01:02.760+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:01:02.766+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:01:03.112+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 407317c45b2e510d24a1c4fe8a97353985c03397d18b194bfb6bbd76aea9e288
2024-07-15T08:01:03.785+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.024412136S
2024-07-15T08:01:03.797+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:01:03.799+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:01:03.802+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:01:03.810+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:01:03.814+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:01:04.005+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: d39eb4a3bd1e327d079051c3e9915324fdf63dd3ffc29c9bdb8ac381a3deec0c
2024-07-15T08:01:04.488+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32852/test using query 'SELECT 1'
2024-07-15T08:01:26.807+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.996770794S
2024-07-15T08:01:26.808+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32852/test)
2024-07-15T08:01:28.091+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:01:28.118+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:01:28.133+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:01:28.135+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:01:28.223+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:01:28.227+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28540 ms
2024-07-15T08:01:29.107+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:01:29.467+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@435e224d
2024-07-15T08:01:29.469+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:01:30.456+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:01:31.033+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:01:31.352+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:01:31.383+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:01:31.488+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:01:31.491+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1061091490
2024-07-15T08:01:31.494+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:01:31.525+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T08:01:31.528+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T08:01:31.530+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 3ms
2024-07-15T08:01:31.560+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:01:31.650+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:01:31.651+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 90ms
2024-07-15T08:01:31.677+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:01:31.754+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:01:31.953+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:01:31.955+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 276ms
2024-07-15T08:01:31.970+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:01:32.038+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:01:32.216+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:01:32.217+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 246ms
2024-07-15T08:01:32.233+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:01:32.252+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:01:32.259+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:01:32.265+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:01:32.275+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 40ms
2024-07-15T08:01:32.312+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:01:32.312+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T08:01:32.312+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:01:32.313+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:01:32.313+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:01:32.313+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T08:01:32.315+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:01:32.319+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:01:32.319+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T08:01:32.334+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:01:32.335+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:01:32.555+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:01:32.640+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:01:32.696+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:01:33.180+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:01:33.247+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:01:33.249+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:01:35.230+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:01:35.237+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:01:36.552+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:01:38.418+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:01:38.419+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:01:38.438+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:01:38.492+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 73 ms
2024-07-15T08:01:38.603+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:01:38.624+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36181 (http) with context path '/'
2024-07-15T08:01:38.662+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.923 seconds (process running for 42.402)
2024-07-15T08:01:39.868+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:01:39.873+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:01:39.886+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:01:39.890+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:01:39.920+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:03:12.015+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:03:12.140+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 84563 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:03:12.155+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:03:14.346+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:03:14.444+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 87 ms. Found 3 JPA repository interfaces.
2024-07-15T08:03:14.848+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:03:14.856+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:03:15.043+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:03:15.460+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:03:15.463+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:03:15.488+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:03:15.523+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:03:15.528+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:03:15.908+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 729c34c717f9e080471278fc6a45fd009bdd06a31ca599d506f39a63786b9693
2024-07-15T08:03:16.537+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.014415074S
2024-07-15T08:03:16.547+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:03:16.548+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:03:16.549+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:03:16.554+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:03:16.557+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:03:16.748+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: cd11d56c795c675f9951d3a2b1f25ce4db13be83ecd072fd740cad067151c972
2024-07-15T08:03:17.346+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32854/test using query 'SELECT 1'
2024-07-15T08:03:36.391+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT19.836582322S
2024-07-15T08:03:36.392+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32854/test)
2024-07-15T08:03:37.890+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:03:37.924+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:03:37.929+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:03:37.931+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:03:38.106+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:03:38.111+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 25921 ms
2024-07-15T08:03:39.097+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:03:39.566+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69374e28
2024-07-15T08:03:39.568+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:03:40.740+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:03:41.237+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:03:41.554+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:03:41.571+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:03:41.622+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:03:41.625+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1061221624
2024-07-15T08:03:41.628+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:03:41.681+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T08:03:41.702+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T08:03:41.710+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 26ms
2024-07-15T08:03:41.780+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:03:41.866+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:03:41.868+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 83ms
2024-07-15T08:03:41.896+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:03:41.968+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:03:42.174+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:03:42.175+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 277ms
2024-07-15T08:03:42.200+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:03:42.277+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:03:42.473+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:03:42.474+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 274ms
2024-07-15T08:03:42.487+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:03:42.500+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:03:42.506+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:03:42.512+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:03:42.528+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 41ms
2024-07-15T08:03:42.548+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:03:42.548+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T08:03:42.548+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:03:42.549+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:03:42.549+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:03:42.549+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T08:03:42.550+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:03:42.553+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:03:42.554+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T08:03:42.567+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:03:42.570+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:03:42.950+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:03:43.087+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:03:43.179+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:03:43.731+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:03:43.839+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:03:43.844+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:03:45.904+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:03:45.908+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:03:47.325+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:03:49.729+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:03:49.731+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:03:49.759+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:03:49.829+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 97 ms
2024-07-15T08:03:49.975+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:03:49.999+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 45617 (http) with context path '/'
2024-07-15T08:03:50.030+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.004 seconds (process running for 42.233)
2024-07-15T08:03:51.559+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:03:51.564+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:03:51.576+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:03:51.581+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:03:51.608+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:05:00.132+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:05:00.267+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 85310 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:05:00.287+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:05:02.544+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:05:02.652+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-15T08:05:02.969+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:05:02.975+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:05:03.148+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:05:03.652+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:05:03.654+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:05:03.681+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:05:03.728+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:05:03.737+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:05:04.146+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: ff0e24e68b96799806fc6e805d4a5dfbca323d06dfeafbc5e74c75684fac7891
2024-07-15T08:05:04.861+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.132559502S
2024-07-15T08:05:04.869+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:05:04.870+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:05:04.872+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:05:04.880+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:05:04.884+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:05:05.043+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 79f403c183acd7ccb8e149b4606343c74237e746a02b2232116062ba15ea7a32
2024-07-15T08:05:05.533+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32856/test using query 'SELECT 1'
2024-07-15T08:10:00.213+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:10:00.280+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 86089 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:10:00.285+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:10:02.134+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:10:02.242+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-15T08:10:02.578+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:10:02.583+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:10:02.705+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:10:03.094+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:10:03.096+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:10:03.113+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:10:03.146+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:10:03.150+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:10:03.510+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 08e93733439a77c139a23798f7e3161af3e196e870cb5ca0ed8c923f6e5a58e5
2024-07-15T08:10:04.297+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.151618246S
2024-07-15T08:10:04.302+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:10:04.302+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:10:04.303+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:10:04.306+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:10:04.308+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:10:04.450+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 62d1b92b27b94b275c5494cad38f1e170e526a093bddfe858f3bbbb2350da91c
2024-07-15T08:10:04.968+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32858/test using query 'SELECT 1'
2024-07-15T08:10:27.974+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.668069792S
2024-07-15T08:10:27.975+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32858/test)
2024-07-15T08:10:29.134+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:10:29.173+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:10:29.178+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:10:29.179+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:10:29.260+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:10:29.263+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28935 ms
2024-07-15T08:10:30.123+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:10:30.619+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49c72fb7
2024-07-15T08:10:30.621+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:10:31.615+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:10:32.217+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:10:32.463+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:10:32.482+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:10:32.508+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:10:32.511+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1061632511
2024-07-15T08:10:32.517+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:10:32.582+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T08:10:32.586+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T08:10:32.589+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 5ms
2024-07-15T08:10:32.646+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:10:32.726+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:10:32.728+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 81ms
2024-07-15T08:10:32.742+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:10:32.811+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:10:32.981+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:10:32.982+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 239ms
2024-07-15T08:10:33.001+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:10:33.092+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:10:33.269+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:10:33.270+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 268ms
2024-07-15T08:10:33.289+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:10:33.302+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:10:33.309+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:10:33.315+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:10:33.331+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 42ms
2024-07-15T08:10:33.351+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:10:33.351+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T08:10:33.352+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:10:33.352+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:10:33.352+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:10:33.353+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T08:10:33.354+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:10:33.357+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:10:33.357+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T08:10:33.372+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:10:33.374+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:10:33.593+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:10:33.653+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:10:33.692+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:10:34.057+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:10:34.106+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:10:34.107+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:10:35.593+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:10:35.599+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:10:36.498+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:10:38.072+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:10:38.072+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:10:38.091+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:10:38.135+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 62 ms
2024-07-15T08:10:38.252+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:10:38.288+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 39699 (http) with context path '/'
2024-07-15T08:10:38.332+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 38.959 seconds (process running for 41.656)
2024-07-15T08:10:39.557+03:30 | WARN | [main] | o.h.e.j.s.SqlExceptionHelper | 669551071c4e311d53568645493d6108,53568645493d6108, | SQL Error: 1305, SQLState: 42000
2024-07-15T08:10:39.557+03:30 | ERROR | [main] | o.h.e.j.s.SqlExceptionHelper | 669551071c4e311d53568645493d6108,53568645493d6108, | FUNCTION test.nextval does not exist
2024-07-15T08:10:39.592+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:10:39.596+03:30 | INFO | [tomcat-shutdown] | o.a.j.l.DirectJDKLog | ,, | Pausing ProtocolHandler ["http-nio-auto-1-39699"]
2024-07-15T08:10:39.599+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:10:39.622+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:10:39.626+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:10:39.711+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:13:59.829+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:13:59.898+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 86984 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:13:59.906+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:14:01.668+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:14:01.748+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 70 ms. Found 3 JPA repository interfaces.
2024-07-15T08:14:02.083+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:14:02.090+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:14:02.309+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:14:02.673+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:14:02.675+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:14:02.694+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:14:02.729+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:14:02.733+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:14:03.001+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: e17e9ed4df896d19602ae85789ad3a2e5fccbb9085b9aa7adf05b73cfcee3c3d
2024-07-15T08:14:03.690+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.960922049S
2024-07-15T08:14:03.695+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:14:03.696+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:14:03.697+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:14:03.701+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:14:03.704+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:14:03.922+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: d49c13c8e0b4f7f0fe57e20d254221daa8482670c18afe3fee1f2f27d581143b
2024-07-15T08:14:04.370+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32860/test using query 'SELECT 1'
2024-07-15T08:14:28.797+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT25.095189164S
2024-07-15T08:14:28.797+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32860/test)
2024-07-15T08:14:30.492+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:14:30.523+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:14:30.554+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:14:30.559+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:14:30.766+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:14:30.769+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30828 ms
2024-07-15T08:14:32.181+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:14:32.938+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4df54c1
2024-07-15T08:14:32.942+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:14:34.335+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:14:35.037+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:14:35.403+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:14:35.421+03:30 | WARN | [main] | l.l.c.JavaLogger | ,, | liquibase.statement.core.CreateSequenceStatement is not supported on mysql, but createSequence will still execute
2024-07-15T08:14:35.549+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:14:35.552+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1061875551
2024-07-15T08:14:35.557+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:14:35.596+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan
2024-07-15T08:14:35.600+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Sequence reference_number_seq created
2024-07-15T08:14:35.602+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::CREATE_REFERENCE_NUMBER_SEQ::s.asadiyan ran successfully in 4ms
2024-07-15T08:14:35.721+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:14:35.818+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:14:35.820+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 97ms
2024-07-15T08:14:35.846+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:14:35.946+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:14:36.202+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:14:36.203+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 356ms
2024-07-15T08:14:36.223+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:14:36.285+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:14:36.419+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:14:36.421+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 197ms
2024-07-15T08:14:36.437+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:14:36.452+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:14:36.459+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:14:36.465+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:14:36.473+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 34ms
2024-07-15T08:14:36.492+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:14:36.492+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-15T08:14:36.493+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:14:36.493+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:14:36.494+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:14:36.494+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-15T08:14:36.496+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:14:36.500+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:14:36.500+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 8
2024-07-15T08:14:36.514+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:14:36.516+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:14:36.804+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:14:36.890+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:14:36.949+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:14:37.705+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:14:37.830+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:14:37.832+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:14:40.045+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:14:40.049+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:14:41.203+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:14:43.065+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:14:43.071+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:14:43.103+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:14:43.172+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 101 ms
2024-07-15T08:14:43.346+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:14:43.397+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 46563 (http) with context path '/'
2024-07-15T08:14:43.433+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 44.551 seconds (process running for 47.832)
2024-07-15T08:14:44.871+03:30 | WARN | [main] | o.h.e.j.s.SqlExceptionHelper | 669551fcbca2778d9299e3fbfcdf5369,9299e3fbfcdf5369, | SQL Error: 1305, SQLState: 42000
2024-07-15T08:14:44.871+03:30 | ERROR | [main] | o.h.e.j.s.SqlExceptionHelper | 669551fcbca2778d9299e3fbfcdf5369,9299e3fbfcdf5369, | FUNCTION test.nextval does not exist
2024-07-15T08:14:44.933+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:14:44.940+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:14:44.951+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:14:44.954+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:14:44.967+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:25:30.814+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:25:30.995+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 88377 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:25:31.019+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:25:33.083+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:25:33.180+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 81 ms. Found 3 JPA repository interfaces.
2024-07-15T08:25:33.555+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:25:33.560+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:25:33.780+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:25:34.214+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:25:34.216+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:25:34.234+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:25:34.275+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:25:34.281+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:25:34.668+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 5d6de275f6dbf29c05ab686df6054f13700795cbaacabf4b47eeb2ddd1e0d051
2024-07-15T08:25:35.426+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.150675605S
2024-07-15T08:25:35.439+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:25:35.440+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:25:35.441+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:25:35.449+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:25:35.454+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:25:35.621+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 924ab4c5e94b53b7c2da2847f00824fa693f0cd9257a5c217f70858046c7375d
2024-07-15T08:25:36.280+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32862/test using query 'SELECT 1'
2024-07-15T08:25:58.744+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.294351857S
2024-07-15T08:25:58.745+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32862/test)
2024-07-15T08:26:00.095+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:26:00.132+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:26:00.136+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:26:00.137+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:26:00.207+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:26:00.209+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29125 ms
2024-07-15T08:26:01.148+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:26:01.653+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f627a1a
2024-07-15T08:26:01.656+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:26:02.674+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:26:08.695+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:26:08.976+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:26:08.981+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1062568980
2024-07-15T08:26:08.986+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:26:09.035+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:26:09.083+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:26:09.085+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 48ms
2024-07-15T08:26:09.101+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:26:09.121+03:30 | ERROR | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan encountered an exception. liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER //---            CREATE PROCEDURE get_next_reference_number(OUT next_val' at line 1 [Failed SQL: (1064) DELIMITER //---            CREATE PROCEDURE get_next_reference_number(OUT next_val INT)---            BEGIN---            INSERT INTO reference_number_seq VALUES (NULL);---            SET next_val = LAST_INSERT_ID();---            END //---        DELIMITER]---	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:473)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:80)
2024-07-15T08:26:09.136+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:26:09.137+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          1
2024-07-15T08:26:09.137+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:26:09.137+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:26:09.138+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:26:09.139+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            1
2024-07-15T08:26:09.140+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:26:09.144+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command encountered an exception.
2024-07-15T08:26:09.155+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:26:09.159+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T08:26:09.159+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T08:26:09.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  SQLSyntaxErrorException
2024-07-15T08:26:09.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER //            CREATE PROCEDURE get_next_reference_number(OUT next_val' at line 1
2024-07-15T08:26:09.161+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  MySQL 8.0.38
2024-07-15T08:26:09.161+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:26:09.164+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan:     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER //            CREATE PROCEDURE get_next_reference_number(OUT next_val' at line 1 [Failed SQL: (1064) DELIMITER //            CREATE PROCEDURE get_next_reference_number(OUT next_val INT)            BEGIN            INSERT INTO reference_number_seq VALUES (NULL);            SET next_val = LAST_INSERT_ID();            END //        DELIMITER]
2024-07-15T08:26:09.165+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:26:09.190+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:26:09.194+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T08:26:09.296+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T08:26:09.329+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan:---     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER //---            CREATE PROCEDURE get_next_reference_number(OUT next_val' at line 1 [Failed SQL: (1064) DELIMITER //---            CREATE PROCEDURE get_next_reference_number(OUT next_val INT)---            BEGIN---            INSERT INTO reference_number_seq VALUES (NULL);---            SET next_val = LAST_INSERT_ID();---            END //---        DELIMITER]---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
2024-07-15T08:26:09.343+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@4af5c14c] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@664217a8 testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4b4a3114 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61884cb1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@79da1ec0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@285c08c8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@30f5a68a, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@dbd374af], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T08:26:46.684+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:26:46.740+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 89073 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:26:46.746+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:26:48.598+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:26:48.708+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-15T08:26:49.000+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:26:49.006+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:26:49.212+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:26:49.627+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:26:49.629+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:26:49.652+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:26:49.694+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:26:49.699+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:26:49.951+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: a49a8c9d95a44cd2fc0086df280459ed105cd12674231b37766f976c7c2a3926
2024-07-15T08:26:50.573+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.879089989S
2024-07-15T08:26:50.583+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:26:50.583+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:26:50.585+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:26:50.590+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:26:50.592+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:26:50.765+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 824149e6ddaa54cc69894cdda06634f8a86c9625a9b7d210b13af731cdaaedce
2024-07-15T08:26:51.243+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32864/test using query 'SELECT 1'
2024-07-15T08:27:11.016+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT20.426650969S
2024-07-15T08:27:11.019+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32864/test)
2024-07-15T08:27:12.495+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:27:12.530+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:27:12.535+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:27:12.537+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:27:12.615+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:27:12.618+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 25849 ms
2024-07-15T08:27:13.543+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:27:14.056+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1fb379e4
2024-07-15T08:27:14.058+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:27:15.089+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:27:15.694+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:27:16.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:27:16.015+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1062636015
2024-07-15T08:27:16.020+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:27:16.066+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:27:16.146+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:27:16.148+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 79ms
2024-07-15T08:27:16.169+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:27:16.182+03:30 | ERROR | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan encountered an exception. liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER /---            CREATE PROCEDURE get_next_reference_number(OUT next_val ' at line 1 [Failed SQL: (1064) DELIMITER /---            CREATE PROCEDURE get_next_reference_number(OUT next_val INT)---            BEGIN---            INSERT INTO reference_number_seq VALUES (NULL);---            SET next_val = LAST_INSERT_ID();---            END /---        DELIMITER]---	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:473)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:80)
2024-07-15T08:27:16.196+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:27:16.197+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          1
2024-07-15T08:27:16.197+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:27:16.197+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:27:16.198+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:27:16.198+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            1
2024-07-15T08:27:16.199+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:27:16.203+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command encountered an exception.
2024-07-15T08:27:16.219+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:27:16.223+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-15T08:27:16.223+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-15T08:27:16.230+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  SQLSyntaxErrorException
2024-07-15T08:27:16.230+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER /            CREATE PROCEDURE get_next_reference_number(OUT next_val ' at line 1
2024-07-15T08:27:16.231+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  MySQL 8.0.38
2024-07-15T08:27:16.231+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:27:16.239+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan:     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER /            CREATE PROCEDURE get_next_reference_number(OUT next_val ' at line 1 [Failed SQL: (1064) DELIMITER /            CREATE PROCEDURE get_next_reference_number(OUT next_val INT)            BEGIN            INSERT INTO reference_number_seq VALUES (NULL);            SET next_val = LAST_INSERT_ID();            END /        DELIMITER]
2024-07-15T08:27:16.240+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:27:16.268+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:27:16.274+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T08:27:16.335+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T08:27:16.374+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan:---     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER /---            CREATE PROCEDURE get_next_reference_number(OUT next_val ' at line 1 [Failed SQL: (1064) DELIMITER /---            CREATE PROCEDURE get_next_reference_number(OUT next_val INT)---            BEGIN---            INSERT INTO reference_number_seq VALUES (NULL);---            SET next_val = LAST_INSERT_ID();---            END /---        DELIMITER]---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
2024-07-15T08:27:16.387+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@7bbab46e] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@9751c9 testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@c1bcea1 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61884cb1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@79da1ec0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@285c08c8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@30f5a68a, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@dbd374af], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T08:28:02.353+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:28:02.409+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 89794 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:28:02.414+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:28:04.276+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:28:04.356+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 68 ms. Found 3 JPA repository interfaces.
2024-07-15T08:28:04.671+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:28:04.675+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:28:04.846+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:28:05.283+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:28:05.286+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:28:05.312+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:28:05.357+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:28:05.363+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:28:05.672+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: f483779efa7aed7fb2f437a311185081816f37635105e87226413eff48930683
2024-07-15T08:28:06.357+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.000326405S
2024-07-15T08:28:06.364+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:28:06.365+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:28:06.366+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:28:06.371+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:28:06.373+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:28:06.582+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: c8e4d1a02497192049f549d16b251671ff3bb50a6aba73b2ec8a74b65001bbc6
2024-07-15T08:28:07.133+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32866/test using query 'SELECT 1'
2024-07-15T08:28:29.187+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.816255468S
2024-07-15T08:28:29.187+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32866/test)
2024-07-15T08:28:30.406+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:28:30.448+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:28:30.453+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:28:30.455+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:28:30.560+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:28:30.562+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28126 ms
2024-07-15T08:28:31.328+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:28:31.729+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7bf997e0
2024-07-15T08:28:31.732+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:28:32.726+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:28:33.318+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:28:33.615+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:28:33.620+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1062713619
2024-07-15T08:28:33.626+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:28:33.669+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:28:33.744+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:28:33.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 74ms
2024-07-15T08:28:33.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:28:33.801+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:28:33.802+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 38ms
2024-07-15T08:28:33.819+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:28:33.899+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:28:33.900+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 80ms
2024-07-15T08:28:33.924+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:28:33.988+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:28:34.168+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:28:34.169+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 245ms
2024-07-15T08:28:34.187+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:28:34.271+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:28:34.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:28:34.462+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 274ms
2024-07-15T08:28:34.478+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:28:34.486+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:28:34.493+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:28:34.498+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:28:34.511+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 32ms
2024-07-15T08:28:34.532+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:28:34.533+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          6
2024-07-15T08:28:34.533+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:28:34.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:28:34.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:28:34.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            6
2024-07-15T08:28:34.535+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:28:34.538+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:28:34.538+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 9
2024-07-15T08:28:34.549+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:28:34.551+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:28:34.796+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:28:34.893+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:28:34.957+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:28:35.350+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:28:35.403+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:28:35.405+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:28:37.098+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:28:37.104+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:28:38.097+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:28:39.837+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:28:39.838+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:28:39.864+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:28:39.920+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 82 ms
2024-07-15T08:28:40.053+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:28:40.101+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36229 (http) with context path '/'
2024-07-15T08:28:40.135+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 38.542 seconds (process running for 41.157)
2024-07-15T08:28:41.586+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:28:41.590+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:28:41.621+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:28:41.626+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:28:41.704+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:34:50.189+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:34:50.266+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 90813 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:34:50.273+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:34:52.170+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:34:52.295+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 113 ms. Found 3 JPA repository interfaces.
2024-07-15T08:34:52.634+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:34:52.640+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:34:52.866+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:34:53.328+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:34:53.332+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:34:53.363+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:34:53.412+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:34:53.420+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:34:53.749+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 90c03517b1023a2cca43dc446d0309dbe621a114db2b1f68e7c92e2171aa0ddb
2024-07-15T08:34:54.340+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.927827237S
2024-07-15T08:34:54.347+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:34:54.347+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:34:54.348+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:34:54.353+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:34:54.356+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:34:54.557+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 031c09cf795a2ddac00bcc0cf398fb6969942e929017042c804a888beea72609
2024-07-15T08:34:55.105+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32868/test using query 'SELECT 1'
2024-07-15T08:35:16.228+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT21.874856346S
2024-07-15T08:35:16.228+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32868/test)
2024-07-15T08:35:17.611+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:35:17.642+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:35:17.646+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:35:17.647+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:35:17.710+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:35:17.712+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 27410 ms
2024-07-15T08:35:18.551+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:35:18.959+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4b74a4d
2024-07-15T08:35:18.961+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:35:19.957+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:35:20.478+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:35:20.899+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:35:20.903+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1063120902
2024-07-15T08:35:20.912+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:35:20.980+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:35:21.094+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:35:21.096+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 110ms
2024-07-15T08:35:21.116+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:35:21.157+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:35:21.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 40ms
2024-07-15T08:35:21.180+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:35:21.254+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:35:21.256+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 74ms
2024-07-15T08:35:21.271+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:35:21.343+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:35:21.533+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:35:21.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 262ms
2024-07-15T08:35:21.550+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:35:21.627+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:35:21.812+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:35:21.814+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 262ms
2024-07-15T08:35:21.826+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:35:21.833+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:35:21.841+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:35:21.846+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:35:21.857+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 30ms
2024-07-15T08:35:21.874+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:35:21.879+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:35:21.884+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:35:21.889+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:35:21.898+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 22ms
2024-07-15T08:35:21.916+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:35:21.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:35:21.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:35:21.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:35:21.918+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:35:21.918+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:35:21.919+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:35:21.922+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:35:21.923+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:35:21.937+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:35:21.939+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:35:22.120+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:35:22.209+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:35:22.265+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:35:22.770+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:35:22.838+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:35:22.840+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:35:24.424+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:35:24.428+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:35:25.473+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:35:27.351+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:35:27.355+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:35:27.388+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:35:27.445+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 89 ms
2024-07-15T08:35:27.571+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:35:27.607+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36355 (http) with context path '/'
2024-07-15T08:35:27.640+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 38.495 seconds (process running for 41.577)
2024-07-15T08:35:29.069+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 669556d89fa37c8c1b79b888ca9dc229,1b79b888ca9dc229, | account.balance : with message : balance is wrong
2024-07-15T08:35:29.120+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 669556d95d62c66255a91c0376c9bbbd,55a91c0376c9bbbd, | user.status : with message : user is not enabled
2024-07-15T08:35:29.156+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 669556d9e7e57f794226bc4a0984e97a,4226bc4a0984e97a, | no.user.found: with  key : 145
2024-07-15T08:35:29.195+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:35:29.201+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:35:29.214+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:35:29.224+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:35:29.246+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:36:58.118+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:36:58.192+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 91559 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:36:58.197+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:37:00.152+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:37:00.249+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 85 ms. Found 3 JPA repository interfaces.
2024-07-15T08:37:00.551+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:37:00.555+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:37:00.752+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:37:01.141+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:37:01.144+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:37:01.165+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:37:01.208+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:37:01.215+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:37:01.517+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: b2c097bc10e7de22982d1364de5387435e951c1f950b98564d4e113f47f5a0a9
2024-07-15T08:37:02.245+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.037391835S
2024-07-15T08:37:02.251+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:37:02.252+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:37:02.252+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:37:02.256+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:37:02.258+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:37:02.477+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: f70eb5c30cedb4e536f5935b3f793aedc99a6db9093f535289380aeab1479079
2024-07-15T08:37:03.120+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32870/test using query 'SELECT 1'
2024-07-15T08:37:24.001+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT21.744925033S
2024-07-15T08:37:24.002+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32870/test)
2024-07-15T08:37:25.392+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:37:25.421+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:37:25.426+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:37:25.427+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:37:25.525+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:37:25.532+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 27310 ms
2024-07-15T08:37:26.451+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:37:26.782+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68024e57
2024-07-15T08:37:26.785+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:37:27.922+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:37:28.487+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:37:28.837+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:37:28.841+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1063248840
2024-07-15T08:37:28.847+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:37:28.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:37:28.993+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:37:28.996+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 76ms
2024-07-15T08:37:29.017+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:37:29.068+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:37:29.071+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 51ms
2024-07-15T08:37:29.100+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:37:29.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:37:29.162+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 59ms
2024-07-15T08:37:29.178+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:37:29.239+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:37:29.367+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:37:29.368+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 190ms
2024-07-15T08:37:29.382+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:37:29.428+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:37:29.544+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:37:29.546+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 164ms
2024-07-15T08:37:29.566+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:37:29.586+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:37:29.615+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:37:29.637+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:37:29.644+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 76ms
2024-07-15T08:37:29.655+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:37:29.662+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:37:29.673+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:37:29.683+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:37:29.690+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 35ms
2024-07-15T08:37:29.714+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:37:29.714+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:37:29.715+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:37:29.715+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:37:29.715+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:37:29.715+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:37:29.717+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:37:29.721+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:37:29.723+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:37:29.733+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:37:29.735+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:37:29.994+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:37:30.112+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:37:30.164+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:37:30.713+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:37:30.787+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:37:30.789+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:37:32.086+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:37:32.090+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:37:33.102+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:37:34.781+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:37:34.782+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:37:34.803+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:37:34.849+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 67 ms
2024-07-15T08:37:34.955+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:37:34.974+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 44889 (http) with context path '/'
2024-07-15T08:37:35.006+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 37.686 seconds (process running for 40.366)
2024-07-15T08:37:36.369+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 669557589d8bb5dd59001a70fd668147,59001a70fd668147, | account.balance : with message : balance is wrong
2024-07-15T08:37:36.415+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955758a8eafc6dae7cf00a3a3cc81c,ae7cf00a3a3cc81c, | no.user.found: with  key : 2
2024-07-15T08:37:36.437+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 669557589b49c84dbc4c26fd25afe313,bc4c26fd25afe313, | no.user.found: with  key : 145
2024-07-15T08:37:36.472+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:37:36.477+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:37:36.490+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:37:36.494+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:37:36.518+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:37:48.260+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:37:48.330+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 92292 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:37:48.342+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:37:51.517+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:37:51.759+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 216 ms. Found 3 JPA repository interfaces.
2024-07-15T08:37:52.654+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:37:52.672+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:37:52.982+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:37:53.840+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:37:53.849+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:37:53.913+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:37:54.000+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:37:54.018+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:37:54.606+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: c18223d233657bb0319315671a8a59e8038bfbe7e48cb19d7f46d61df23fa6b7
2024-07-15T08:37:55.352+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.351383464S
2024-07-15T08:37:55.365+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:37:55.368+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:37:55.370+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:37:55.375+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:37:55.377+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:37:55.624+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: ce9589dc2a90ae1f6024e1d56283ad55a3930e330f1b33904b6effc4dfeb5df5
2024-07-15T08:37:56.264+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32872/test using query 'SELECT 1'
2024-07-15T08:38:21.530+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:38:21.611+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 92808 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:38:21.617+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:38:23.546+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:38:23.660+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 99 ms. Found 3 JPA repository interfaces.
2024-07-15T08:38:24.058+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:38:24.063+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:38:24.243+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:38:24.720+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:38:24.723+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:38:24.753+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:38:24.806+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:38:24.817+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:38:25.207+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: c1bb4f809ac258b90b7f876a55e3d8b470c66edfc966312cfc77346f249bed55
2024-07-15T08:38:25.840+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.033593514S
2024-07-15T08:38:25.855+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:38:25.856+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:38:25.858+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:38:25.863+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:38:25.865+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:38:26.035+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 0af408ba0f8dad80a95f7aa05658425486af8062ed2951591b9302c5e616bc50
2024-07-15T08:38:26.590+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32874/test using query 'SELECT 1'
2024-07-15T08:38:50.150+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.287002054S
2024-07-15T08:38:50.150+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32874/test)
2024-07-15T08:38:51.620+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:38:51.644+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:38:51.651+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:38:51.652+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:38:51.738+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:38:51.741+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30099 ms
2024-07-15T08:38:52.612+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:38:53.051+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17b9c9ff
2024-07-15T08:38:53.054+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:38:54.587+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:38:55.365+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:38:55.749+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:38:55.754+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1063335754
2024-07-15T08:38:55.762+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:38:55.827+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:38:55.978+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:38:55.982+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 154ms
2024-07-15T08:38:56.011+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:38:56.056+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:38:56.058+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 43ms
2024-07-15T08:38:56.076+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:38:56.159+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:38:56.160+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 83ms
2024-07-15T08:38:56.178+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:38:56.255+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:38:56.446+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:38:56.447+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 269ms
2024-07-15T08:38:56.471+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:38:56.551+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:38:56.745+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:38:56.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 273ms
2024-07-15T08:38:56.762+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:38:56.768+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:38:56.773+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:38:56.778+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:38:56.789+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 26ms
2024-07-15T08:38:56.801+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:38:56.808+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:38:56.813+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:38:56.818+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:38:56.829+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 27ms
2024-07-15T08:38:56.852+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:38:56.852+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:38:56.853+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:38:56.853+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:38:56.853+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:38:56.854+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:38:56.855+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:38:56.858+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:38:56.858+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:38:56.872+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:38:56.874+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:38:57.113+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:38:57.239+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:38:57.342+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:38:57.905+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:38:57.988+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:38:57.991+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:38:59.695+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:38:59.701+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:39:00.805+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:39:02.778+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:39:02.779+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:39:02.812+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:39:02.871+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 92 ms
2024-07-15T08:39:03.040+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:39:03.072+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 39975 (http) with context path '/'
2024-07-15T08:39:03.112+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.479 seconds (process running for 46.091)
2024-07-15T08:43:23.190+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m30s35ms583µs509ns).
2024-07-15T08:43:23.210+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 669557bdde62389689a1931224e94b19,89a1931224e94b19, | account.balance : with message : balance is wrong
2024-07-15T08:43:23.300+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:43:23.324+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:43:23.391+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:43:23.403+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:43:23.433+03:30 | WARN | [main] | c.z.h.p.ProxyConnection | 669558b3b735e40a66467f2a4f22f9ae,66467f2a4f22f9ae, | HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@381b485b marked as broken because of SQLSTATE(08S01), ErrorCode(0) com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure------The last packet successfully received from the server was 183 milliseconds ago. The last packet sent successfully to the server was 183 milliseconds ago.---	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)---	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)---	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2022)---	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:402)---	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)---	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72)---	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:282)
2024-07-15T08:43:23.447+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:43:32.053+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:43:32.160+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 93721 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:43:32.165+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:43:33.941+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:43:34.025+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 75 ms. Found 3 JPA repository interfaces.
2024-07-15T08:43:34.330+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:43:34.334+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:43:34.515+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:43:34.971+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:43:34.974+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:43:34.995+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:43:35.049+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:43:35.056+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:43:35.422+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 2b80965e9d2a526dbd5ca13180edd8a88942a859b309f9e51f54d3ef780c4cfb
2024-07-15T08:43:36.031+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.983022319S
2024-07-15T08:43:36.038+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:43:36.039+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:43:36.040+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:43:36.045+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:43:36.047+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:43:36.214+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: abec58a5b6526eb67c9109b054f7f0adbfdff57bc5c13951b3875f104a2a4d56
2024-07-15T08:43:36.702+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32876/test using query 'SELECT 1'
2024-07-15T08:43:59.920+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.874912347S
2024-07-15T08:43:59.920+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32876/test)
2024-07-15T08:44:01.264+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:44:01.296+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:44:01.300+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:44:01.301+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:44:01.395+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:44:01.397+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29205 ms
2024-07-15T08:44:02.207+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:44:02.682+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68024e57
2024-07-15T08:44:02.684+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:44:03.682+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:44:04.364+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:44:04.753+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:44:04.756+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1063644755
2024-07-15T08:44:04.760+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:44:04.806+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:44:04.941+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:44:04.943+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 136ms
2024-07-15T08:44:04.966+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:44:05.011+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:44:05.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 46ms
2024-07-15T08:44:05.029+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:44:05.101+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:44:05.102+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 72ms
2024-07-15T08:44:05.117+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:44:05.185+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:44:05.370+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:44:05.371+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 254ms
2024-07-15T08:44:05.387+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:44:05.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:44:05.630+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:44:05.631+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 244ms
2024-07-15T08:44:05.646+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:44:05.653+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:44:05.659+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:44:05.663+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:44:05.669+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 22ms
2024-07-15T08:44:05.682+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:44:05.689+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:44:05.693+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:44:05.698+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:44:05.709+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 27ms
2024-07-15T08:44:05.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:44:05.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:44:05.731+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:44:05.731+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:44:05.731+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:44:05.731+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:44:05.732+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:44:05.735+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:44:05.736+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:44:05.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:44:05.748+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:44:05.956+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:44:06.092+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:44:06.148+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:44:06.689+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:44:06.739+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:44:06.740+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:44:07.288+03:30 | ERROR | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'user_id' is duplicated in mapping for entity 'me.sepehrasadiyan.wallet_v2.domain.SimpleAccount' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
2024-07-15T08:44:07.289+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'user_id' is duplicated in mapping for entity 'me.sepehrasadiyan.wallet_v2.domain.SimpleAccount' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)
2024-07-15T08:44:07.290+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:44:07.307+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:44:07.311+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-15T08:44:07.339+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-15T08:44:07.359+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'user_id' is duplicated in mapping for entity 'me.sepehrasadiyan.wallet_v2.domain.SimpleAccount' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)---	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)---	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)---	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)---	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)---	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)---	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)---	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)---	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
2024-07-15T08:44:07.376+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@192800d] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@419fc1d6 testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@46c85b61 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@609640d5, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@62ea3440, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@64dafeed, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@53f48368, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@dbd374af], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-15T08:45:24.869+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:45:24.945+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 94462 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:45:24.953+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:45:26.943+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:45:27.031+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 77 ms. Found 3 JPA repository interfaces.
2024-07-15T08:45:27.331+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:45:27.335+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:45:27.473+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:45:27.927+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:45:27.930+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:45:27.957+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:45:28.004+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:45:28.013+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:45:28.390+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 231c4d74298deb43e6dfbd7b0288cf10d4c3b9222d4b25fc2086edcea0587997
2024-07-15T08:45:29.144+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.139560392S
2024-07-15T08:45:29.152+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:45:29.153+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:45:29.154+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:45:29.158+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:45:29.161+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:45:29.311+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: a16a255eca706159cd43fa4d3e74e39ec3aab9ac2dafa3354470d6b07e403ec6
2024-07-15T08:45:30.001+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32878/test using query 'SELECT 1'
2024-07-15T08:45:50.644+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT21.486423095S
2024-07-15T08:45:50.645+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32878/test)
2024-07-15T08:45:51.993+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:45:52.020+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:45:52.024+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:45:52.026+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:45:52.115+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:45:52.117+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 27129 ms
2024-07-15T08:45:52.940+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:45:53.446+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@565983f3
2024-07-15T08:45:53.449+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:45:54.436+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:45:55.036+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:45:55.277+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:45:55.280+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1063755280
2024-07-15T08:45:55.285+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:45:55.330+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:45:55.374+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:45:55.376+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 45ms
2024-07-15T08:45:55.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:45:55.416+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:45:55.420+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 29ms
2024-07-15T08:45:55.471+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:45:55.573+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:45:55.576+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 97ms
2024-07-15T08:45:55.599+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:45:55.650+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:45:55.753+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:45:55.754+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 154ms
2024-07-15T08:45:55.766+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:45:55.813+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:45:55.996+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:45:55.997+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 230ms
2024-07-15T08:45:56.008+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:45:56.015+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:45:56.023+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:45:56.042+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:45:56.048+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 40ms
2024-07-15T08:45:56.060+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:45:56.065+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:45:56.070+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:45:56.075+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:45:56.080+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 20ms
2024-07-15T08:45:56.097+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:45:56.098+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:45:56.098+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:45:56.098+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:45:56.098+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:45:56.099+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:45:56.100+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:45:56.102+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:45:56.102+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:45:56.111+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:45:56.113+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:45:56.294+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:45:56.390+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:45:56.443+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:45:56.818+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:45:56.867+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:45:56.868+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:45:58.564+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:45:58.570+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:45:59.553+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:46:01.144+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:46:01.145+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:46:01.168+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:46:01.209+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 64 ms
2024-07-15T08:46:01.335+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:46:01.361+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 34361 (http) with context path '/'
2024-07-15T08:46:01.401+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 37.333 seconds (process running for 39.924)
2024-07-15T08:46:02.663+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 66955952354079b92e95c3428f6d38f2,2e95c3428f6d38f2, | account.balance : with message : balance is wrong
2024-07-15T08:46:02.717+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955952f78965ed39f5948a2433b982,39f5948a2433b982, | no.user.found: with  key : 2
2024-07-15T08:46:02.744+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955952d28eba1daaea48e5773f5c30,aaea48e5773f5c30, | no.user.found: with  key : 145
2024-07-15T08:46:02.767+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:46:02.777+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:46:02.796+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:46:02.807+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:46:02.929+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:46:48.762+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:46:49.013+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 95204 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:46:49.031+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:46:51.867+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:46:52.103+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 207 ms. Found 3 JPA repository interfaces.
2024-07-15T08:46:52.785+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:46:52.791+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:46:53.211+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:46:54.129+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:46:54.134+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:46:54.205+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:46:54.325+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:46:54.343+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:46:54.818+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 5c9f48ab34758213c8fd4b67b87f549b62e5a97d48e3afcbb7dfe09c67b9c758
2024-07-15T08:46:56.118+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.793128762S
2024-07-15T08:46:56.150+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:46:56.150+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:46:56.151+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:46:56.159+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:46:56.164+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:46:56.502+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 2f30ee3ada0265d97ea84847eb8d4588f4d2a4f29e0eb0b5e4aafaf2534e834b
2024-07-15T08:46:57.027+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32880/test using query 'SELECT 1'
2024-07-15T08:47:19.316+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.157198917S
2024-07-15T08:47:19.317+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32880/test)
2024-07-15T08:47:21.035+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:47:21.058+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:47:21.063+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:47:21.064+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:47:21.152+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:47:21.156+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 32061 ms
2024-07-15T08:47:22.016+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:47:22.511+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@32d3b965
2024-07-15T08:47:22.514+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:47:23.613+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:47:24.332+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:47:24.699+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:47:24.704+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1063844702
2024-07-15T08:47:24.708+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:47:24.759+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:47:24.898+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:47:24.900+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 139ms
2024-07-15T08:47:24.927+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:47:24.975+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:47:24.978+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 50ms
2024-07-15T08:47:25.007+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:47:25.097+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:47:25.098+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 90ms
2024-07-15T08:47:25.120+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:47:25.201+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:47:25.424+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:47:25.426+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 304ms
2024-07-15T08:47:25.444+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:47:25.520+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:47:25.725+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:47:25.726+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 282ms
2024-07-15T08:47:25.743+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:47:25.751+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:47:25.757+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:47:25.761+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:47:25.768+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 25ms
2024-07-15T08:47:25.788+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:47:25.794+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:47:25.799+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:47:25.805+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:47:25.819+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 30ms
2024-07-15T08:47:25.838+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:47:25.839+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:47:25.839+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:47:25.839+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:47:25.840+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:47:25.840+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:47:25.842+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:47:25.846+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:47:25.846+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:47:25.862+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:47:25.864+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:47:26.106+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:47:26.197+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:47:26.274+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:47:26.881+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:47:26.965+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:47:26.968+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:47:28.979+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:47:28.988+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:47:30.698+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:47:32.805+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:47:32.806+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:47:32.833+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:47:32.882+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 76 ms
2024-07-15T08:47:33.099+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:47:33.197+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 43037 (http) with context path '/'
2024-07-15T08:47:33.243+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 46.043 seconds (process running for 50.681)
2024-07-15T08:48:38.472+03:30 | WARN | [HikariPool-1 housekeeper] | c.z.h.p.HikariPool$HouseKeeper | ,, | HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m15s857ms462µs968ns).
2024-07-15T08:48:38.493+03:30 | ERROR | [main] | m.s.w.e.AccountBalanceException | 669559b42100a79a30cca131edd67285,30cca131edd67285, | account.balance : with message : balance is wrong
2024-07-15T08:48:38.539+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:48:38.544+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:48:38.559+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:48:38.567+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:48:45.648+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:48:45.705+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 96017 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:48:45.710+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:48:47.608+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:48:47.696+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 76 ms. Found 3 JPA repository interfaces.
2024-07-15T08:48:48.028+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:48:48.032+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:48:48.205+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:48:48.750+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:48:48.755+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:48:48.784+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:48:48.831+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:48:48.841+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:48:49.124+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: a8a328b719a555b96ffebf121b985945092a7c2742648f8e8ae78a8bf055b6b7
2024-07-15T08:48:49.795+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.964040346S
2024-07-15T08:48:49.800+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:48:49.801+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:48:49.802+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:48:49.806+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:48:49.808+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:48:50.045+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: e35436e59a5cf00b09b14d87b6c44368abfa8da7cec93faa285a81dd8d237a96
2024-07-15T08:48:50.689+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32882/test using query 'SELECT 1'
2024-07-15T08:49:14.341+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT24.534814037S
2024-07-15T08:49:14.342+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32882/test)
2024-07-15T08:49:15.877+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:49:15.919+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:49:15.925+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:49:15.927+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:49:16.042+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:49:16.047+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 30312 ms
2024-07-15T08:49:17.038+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:49:17.583+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68024e57
2024-07-15T08:49:17.588+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:49:18.763+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:49:19.369+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:49:19.712+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:49:19.715+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1063959715
2024-07-15T08:49:19.722+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:49:19.791+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:49:19.897+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:49:19.900+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 106ms
2024-07-15T08:49:19.944+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:49:20.045+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:49:20.050+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 103ms
2024-07-15T08:49:20.087+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:49:20.162+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:49:20.164+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 75ms
2024-07-15T08:49:20.186+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:49:20.259+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:49:20.434+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:49:20.436+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 249ms
2024-07-15T08:49:20.458+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:49:20.531+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:49:20.706+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:49:20.708+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 249ms
2024-07-15T08:49:20.723+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:49:20.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:49:20.735+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:49:20.739+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:49:20.749+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 26ms
2024-07-15T08:49:20.772+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:49:20.777+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:49:20.781+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:49:20.785+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:49:20.794+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 22ms
2024-07-15T08:49:20.812+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:49:20.813+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:49:20.813+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:49:20.814+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:49:20.814+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:49:20.814+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:49:20.816+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:49:20.819+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:49:20.819+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:49:20.834+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:49:20.835+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:49:21.021+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:49:21.105+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:49:21.166+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:49:21.633+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:49:21.701+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:49:21.703+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:49:23.325+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:49:23.330+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:49:24.496+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:49:27.099+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:49:27.099+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:49:27.130+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:49:27.257+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 157 ms
2024-07-15T08:49:27.456+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:49:27.477+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 46437 (http) with context path '/'
2024-07-15T08:49:27.552+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 42.696 seconds (process running for 45.299)
2024-07-15T08:49:29.494+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955a21207e476392e81c29171101e8,92e81c29171101e8, | no.user.found: with  key : 2
2024-07-15T08:49:29.656+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955a2117260503d9cdede4d155593e,d9cdede4d155593e, | no.user.found: with  key : 145
2024-07-15T08:49:29.743+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:49:29.783+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:49:29.797+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:49:29.806+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:49:29.955+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:51:42.677+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:51:42.730+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 96904 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:51:42.736+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:51:44.654+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:51:44.754+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 88 ms. Found 3 JPA repository interfaces.
2024-07-15T08:51:45.110+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:51:45.114+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:51:45.345+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:51:45.816+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:51:45.819+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:51:45.868+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:51:45.932+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:51:45.938+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:51:46.276+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 084c840b375e1bde934da187030608327431c7f99c82714c520b0d653161100f
2024-07-15T08:51:47.042+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.109911984S
2024-07-15T08:51:47.053+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:51:47.055+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:51:47.056+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:51:47.060+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:51:47.062+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:51:47.215+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 30d37dcfe9c1497b835bcce977223c7d693df2ffdedc3fbb38000ef4dbd24366
2024-07-15T08:51:47.707+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32884/test using query 'SELECT 1'
2024-07-15T08:52:10.738+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.678172688S
2024-07-15T08:52:10.739+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32884/test)
2024-07-15T08:52:12.089+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:52:12.115+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:52:12.119+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:52:12.120+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:52:12.216+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:52:12.220+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 29462 ms
2024-07-15T08:52:13.101+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:52:13.504+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@435e224d
2024-07-15T08:52:13.505+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:52:14.516+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:52:15.059+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:52:15.381+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:52:15.383+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1064135383
2024-07-15T08:52:15.386+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:52:15.437+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:52:15.590+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:52:15.592+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 154ms
2024-07-15T08:52:15.612+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:52:15.642+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:52:15.643+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 29ms
2024-07-15T08:52:15.655+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:52:15.727+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:52:15.728+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 72ms
2024-07-15T08:52:15.752+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:52:15.826+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:52:16.010+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:52:16.011+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 258ms
2024-07-15T08:52:16.028+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:52:16.106+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:52:16.285+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:52:16.286+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 257ms
2024-07-15T08:52:16.306+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:52:16.311+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:52:16.316+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:52:16.320+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:52:16.329+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 22ms
2024-07-15T08:52:16.340+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:52:16.344+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:52:16.348+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:52:16.351+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:52:16.367+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 26ms
2024-07-15T08:52:16.389+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:52:16.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:52:16.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:52:16.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:52:16.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:52:16.391+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:52:16.392+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:52:16.395+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:52:16.396+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:52:16.410+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:52:16.411+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:52:16.607+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:52:16.667+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:52:16.708+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:52:17.068+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:52:17.121+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:52:17.122+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:52:18.748+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:52:18.752+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:52:19.625+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:52:21.203+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:52:21.204+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:52:21.221+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:52:21.264+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 60 ms
2024-07-15T08:52:21.364+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:52:21.395+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 46619 (http) with context path '/'
2024-07-15T08:52:21.439+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.492 seconds (process running for 42.067)
2024-07-15T08:52:22.824+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66955ace0eb718dfbc9e9fd6dc3a4316,bc9e9fd6dc3a4316, | user.status : with message : user is not enabled
2024-07-15T08:52:22.860+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955acecf66e6cfca2dab114d335cf7,ca2dab114d335cf7, | no.user.found: with  key : 145
2024-07-15T08:52:22.973+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:52:22.999+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:52:23.023+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:52:23.031+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:52:23.108+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:54:01.534+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:54:01.632+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 97706 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:54:01.638+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:54:03.554+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:54:03.650+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 81 ms. Found 3 JPA repository interfaces.
2024-07-15T08:54:03.995+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:54:03.999+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:54:04.154+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:54:04.554+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:54:04.556+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:54:04.574+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:54:04.608+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:54:04.613+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:54:04.868+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 7de2504f8235a70aa52ca08205611b2f12f0046c054c7b8acbb0b024b590d063
2024-07-15T08:54:05.398+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.789998978S
2024-07-15T08:54:05.412+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:54:05.413+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:54:05.414+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:54:05.418+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:54:05.421+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:54:05.559+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: af4148cb198d5d1a7a161ae72beeee7fb12adc93a558e9bab63dca9a6d373c12
2024-07-15T08:54:06.055+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32886/test using query 'SELECT 1'
2024-07-15T08:54:24.025+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.607107046S
2024-07-15T08:54:24.026+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32886/test)
2024-07-15T08:54:25.208+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:54:25.233+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:54:25.239+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:54:25.240+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:54:25.337+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:54:25.340+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 23657 ms
2024-07-15T08:54:26.093+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:54:26.489+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f83467
2024-07-15T08:54:26.491+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:54:27.750+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:54:28.383+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:54:28.649+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:54:28.651+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1064268651
2024-07-15T08:54:28.655+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:54:28.704+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:54:28.771+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:54:28.772+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 66ms
2024-07-15T08:54:28.786+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:54:28.817+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:54:28.819+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 32ms
2024-07-15T08:54:28.837+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:54:28.916+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:54:28.917+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 79ms
2024-07-15T08:54:28.953+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:54:29.024+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:54:29.212+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:54:29.214+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 260ms
2024-07-15T08:54:29.229+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:54:29.297+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:54:29.476+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:54:29.478+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 247ms
2024-07-15T08:54:29.496+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:54:29.504+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:54:29.510+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:54:29.515+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:54:29.524+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 27ms
2024-07-15T08:54:29.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:54:29.542+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:54:29.547+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:54:29.552+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:54:29.563+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 25ms
2024-07-15T08:54:29.592+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:54:29.593+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:54:29.593+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:54:29.593+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:54:29.594+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:54:29.594+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:54:29.595+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:54:29.598+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:54:29.599+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:54:29.610+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:54:29.611+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:54:29.808+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:54:29.875+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:54:29.916+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:54:30.364+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:54:30.424+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:54:30.427+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:54:31.842+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:54:31.847+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:54:32.654+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:54:34.408+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:54:34.409+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:54:34.428+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:54:34.473+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 63 ms
2024-07-15T08:54:34.571+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:54:34.588+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 40597 (http) with context path '/'
2024-07-15T08:54:34.612+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 33.826 seconds (process running for 36.379)
2024-07-15T08:54:36.217+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66955b54dad61f344e995820957d13c1,4e995820957d13c1, | user.status : with message : user is not enabled
2024-07-15T08:54:36.270+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955b54a4acb7c11d4ceb3f1ba34aa3,1d4ceb3f1ba34aa3, | no.user.found: with  key : 145
2024-07-15T08:54:36.389+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:54:36.394+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:54:36.411+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:54:36.418+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:54:36.442+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:55:38.565+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:55:38.631+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 98468 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:55:38.642+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:55:40.363+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:55:40.448+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 74 ms. Found 3 JPA repository interfaces.
2024-07-15T08:55:40.741+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:55:40.746+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:55:40.891+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:55:41.287+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:55:41.290+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:55:41.308+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:55:41.344+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:55:41.348+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:55:41.697+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: a9f572b9058f40e4875dccc1316e790e20c4ddb6979387e2d92989969b06c47c
2024-07-15T08:55:42.333+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.989337499S
2024-07-15T08:55:42.340+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:55:42.340+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:55:42.341+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:55:42.344+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:55:42.346+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:55:42.537+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 43c0ffaa97c51231bd04e7f11d952d05f6a1f34cc80cfb99b41b35f0d3142bff
2024-07-15T08:55:42.973+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32888/test using query 'SELECT 1'
2024-07-15T08:56:05.444+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.09996544S
2024-07-15T08:56:05.445+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32888/test)
2024-07-15T08:56:06.756+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:56:06.797+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:56:06.803+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:56:06.804+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:56:06.872+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:56:06.875+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28209 ms
2024-07-15T08:56:07.734+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:56:08.103+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5cbebfba
2024-07-15T08:56:08.105+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:56:09.277+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:56:09.947+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:56:10.531+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:56:10.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1064370533
2024-07-15T08:56:10.546+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:56:10.647+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:56:10.798+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:56:10.803+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 152ms
2024-07-15T08:56:10.826+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:56:10.867+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:56:10.871+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 42ms
2024-07-15T08:56:10.904+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:56:10.996+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:56:10.998+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 92ms
2024-07-15T08:56:11.027+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:56:11.119+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:56:11.321+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:56:11.322+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 294ms
2024-07-15T08:56:11.339+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:56:11.408+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:56:11.647+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:56:11.648+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 309ms
2024-07-15T08:56:11.668+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:56:11.673+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:56:11.679+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:56:11.683+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:56:11.690+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 22ms
2024-07-15T08:56:11.708+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:56:11.719+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:56:11.724+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:56:11.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:56:11.742+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 34ms
2024-07-15T08:56:11.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:56:11.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:56:11.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:56:11.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:56:11.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:56:11.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:56:11.767+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:56:11.769+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:56:11.769+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:56:11.783+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:56:11.784+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:56:11.971+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:56:12.052+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:56:12.107+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:56:12.571+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:56:12.644+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:56:12.646+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:56:13.948+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:56:13.951+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:56:14.961+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:56:16.646+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:56:16.647+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:56:16.670+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:56:16.736+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 89 ms
2024-07-15T08:56:16.848+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:56:16.889+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 41115 (http) with context path '/'
2024-07-15T08:56:16.926+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.205 seconds (process running for 41.899)
2024-07-15T08:56:18.508+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66955bbaac02a29b31ebdc60eb625f6d,31ebdc60eb625f6d, | user.status : with message : user is not enabled
2024-07-15T08:56:18.542+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955bba55310bfe037061c8fc91dd35,037061c8fc91dd35, | no.user.found: with  key : 145
2024-07-15T08:56:18.655+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:56:18.657+03:30 | INFO | [tomcat-shutdown] | o.a.j.l.DirectJDKLog | ,, | Pausing ProtocolHandler ["http-nio-auto-1-41115"]
2024-07-15T08:56:18.661+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:56:18.662+03:30 | INFO | [SpringApplicationShutdownHook] | o.a.j.l.DirectJDKLog | ,, | Stopping ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:56:18.677+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:56:18.681+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:56:18.732+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T08:56:49.304+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T08:56:49.410+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 99181 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T08:56:49.417+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T08:56:51.386+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T08:56:51.493+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-15T08:56:51.773+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T08:56:51.776+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T08:56:51.924+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T08:56:52.291+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T08:56:52.294+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T08:56:52.319+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T08:56:52.362+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T08:56:52.369+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T08:56:52.611+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: fb67f5b36bbf477c17f7f6a2ac2859274e75541ee97caa90971174ca6401a9dd
2024-07-15T08:56:53.321+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.95889938S
2024-07-15T08:56:53.326+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T08:56:53.327+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T08:56:53.328+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T08:56:53.332+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T08:56:53.334+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T08:56:53.554+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 5efc4bd093fe96dc6b20d4a9b83294dbf77ad08e0204bebf2bc913d3d0986d74
2024-07-15T08:56:54.009+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32890/test using query 'SELECT 1'
2024-07-15T08:57:13.509+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT20.177793965S
2024-07-15T08:57:13.510+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32890/test)
2024-07-15T08:57:14.986+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T08:57:15.018+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:57:15.023+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T08:57:15.024+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T08:57:15.117+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T08:57:15.122+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 25668 ms
2024-07-15T08:57:16.154+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T08:57:16.728+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@71f86562
2024-07-15T08:57:16.731+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T08:57:17.903+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T08:57:18.469+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:57:18.741+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T08:57:18.743+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1064438743
2024-07-15T08:57:18.748+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T08:57:18.801+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T08:57:18.852+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T08:57:18.854+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 51ms
2024-07-15T08:57:18.868+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T08:57:18.892+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:57:18.894+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 25ms
2024-07-15T08:57:18.907+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T08:57:18.957+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T08:57:18.960+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 51ms
2024-07-15T08:57:19.000+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T08:57:19.049+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T08:57:19.156+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T08:57:19.157+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 156ms
2024-07-15T08:57:19.180+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T08:57:19.227+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T08:57:19.343+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T08:57:19.344+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 164ms
2024-07-15T08:57:19.355+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T08:57:19.371+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:57:19.378+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:57:19.383+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:57:19.389+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 34ms
2024-07-15T08:57:19.401+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T08:57:19.409+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:57:19.417+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:57:19.427+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T08:57:19.434+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 32ms
2024-07-15T08:57:19.453+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T08:57:19.454+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T08:57:19.454+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T08:57:19.455+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T08:57:19.455+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T08:57:19.456+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T08:57:19.457+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T08:57:19.460+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T08:57:19.461+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T08:57:19.471+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T08:57:19.472+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T08:57:19.684+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T08:57:19.773+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T08:57:19.828+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T08:57:20.309+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T08:57:20.389+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T08:57:20.391+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T08:57:22.118+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T08:57:22.123+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:57:23.102+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T08:57:24.808+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T08:57:24.809+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T08:57:24.846+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T08:57:24.900+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 90 ms
2024-07-15T08:57:25.028+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T08:57:25.070+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 33615 (http) with context path '/'
2024-07-15T08:57:25.097+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 36.487 seconds (process running for 39.021)
2024-07-15T08:57:26.455+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66955bfe04fb6e40bd80b028a1d851ba,bd80b028a1d851ba, | user.status : with message : user is not enabled
2024-07-15T08:57:26.491+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955bfe7c50a9c06931adcd1a73bbd3,6931adcd1a73bbd3, | no.user.found: with  key : 145
2024-07-15T08:57:26.609+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T08:57:26.633+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T08:57:26.650+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T08:57:26.656+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T08:57:26.750+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-15T09:00:13.786+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-15T09:00:13.836+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 100164 (started by madara in /home/madara/blu/wallet-v2)
2024-07-15T09:00:13.841+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-15T09:00:15.773+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-15T09:00:15.868+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 86 ms. Found 3 JPA repository interfaces.
2024-07-15T09:00:16.181+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-15T09:00:16.186+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-15T09:00:16.365+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-15T09:00:16.809+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-15T09:00:16.812+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-15T09:00:16.857+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-15T09:00:16.912+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-15T09:00:16.919+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-15T09:00:17.286+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 6d4468007ab780240a2d19b90dc043c358634b03be678d4ea8f42121337fcf31
2024-07-15T09:00:18.000+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.087613596S
2024-07-15T09:00:18.005+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-15T09:00:18.005+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-15T09:00:18.007+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-15T09:00:18.010+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-15T09:00:18.012+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-15T09:00:18.167+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: a6b379f842c49fdae04c511e218a6aefa5a1fea2eb373b60eabc1f49effb0484
2024-07-15T09:00:18.571+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32892/test using query 'SELECT 1'
2024-07-15T09:00:41.297+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT23.286863504S
2024-07-15T09:00:41.298+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32892/test)
2024-07-15T09:00:42.549+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-15T09:00:42.575+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-15T09:00:42.580+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-15T09:00:42.581+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-15T09:00:42.682+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-15T09:00:42.685+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28816 ms
2024-07-15T09:00:43.424+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-15T09:00:43.810+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6dd7af2f
2024-07-15T09:00:43.813+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-15T09:00:44.797+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-15T09:00:45.512+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T09:00:45.821+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-15T09:00:45.824+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1064645823
2024-07-15T09:00:45.829+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-15T09:00:45.875+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-15T09:00:45.952+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-15T09:00:45.954+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 77ms
2024-07-15T09:00:45.971+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-15T09:00:46.003+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T09:00:46.005+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 33ms
2024-07-15T09:00:46.029+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-15T09:00:46.117+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-15T09:00:46.118+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 89ms
2024-07-15T09:00:46.137+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-15T09:00:46.209+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-15T09:00:46.413+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-15T09:00:46.415+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 276ms
2024-07-15T09:00:46.429+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-15T09:00:46.501+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-15T09:00:46.682+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-15T09:00:46.683+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 253ms
2024-07-15T09:00:46.698+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-15T09:00:46.703+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T09:00:46.709+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T09:00:46.713+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T09:00:46.721+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 22ms
2024-07-15T09:00:46.733+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-15T09:00:46.738+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T09:00:46.743+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T09:00:46.748+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-15T09:00:46.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 30ms
2024-07-15T09:00:46.781+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-15T09:00:46.782+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-15T09:00:46.782+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-15T09:00:46.782+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-15T09:00:46.782+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-15T09:00:46.783+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-15T09:00:46.784+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-15T09:00:46.786+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-15T09:00:46.786+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-15T09:00:46.797+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-15T09:00:46.798+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-15T09:00:46.945+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-15T09:00:47.037+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-15T09:00:47.079+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-15T09:00:47.456+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-15T09:00:47.524+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-15T09:00:47.526+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-15T09:00:48.909+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-15T09:00:48.914+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T09:00:49.887+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-15T09:00:51.692+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-15T09:00:51.693+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-15T09:00:51.713+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-15T09:00:51.751+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 58 ms
2024-07-15T09:00:51.911+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-15T09:00:51.949+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 35353 (http) with context path '/'
2024-07-15T09:00:51.973+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 38.915 seconds (process running for 41.344)
2024-07-15T09:00:53.324+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66955ccd983e09c493e543ea2300df72,93e543ea2300df72, | user.status : with message : user is not enabled
2024-07-15T09:00:53.394+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66955ccd6011403192f182ecd91e6fc5,92f182ecd91e6fc5, | no.user.found: with  key : 145
2024-07-15T09:00:53.538+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-15T09:00:53.543+03:30 | INFO | [tomcat-shutdown] | o.a.j.l.DirectJDKLog | ,, | Pausing ProtocolHandler ["http-nio-auto-1-35353"]
2024-07-15T09:00:53.547+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-15T09:00:53.564+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-15T09:00:53.575+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-15T09:00:53.596+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T03:11:37.926+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T03:11:38.135+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 6551 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T03:11:38.141+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T03:11:40.109+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T03:11:40.208+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 85 ms. Found 3 JPA repository interfaces.
2024-07-16T03:11:40.677+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T03:11:40.681+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T03:11:40.948+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T03:11:41.548+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T03:11:41.551+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T03:11:41.582+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T03:11:41.619+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T03:11:41.624+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T03:11:41.909+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 652fbe9065dcc0775f0c2d40a45a4d16f5c0dd175c33cd9c833a1c2245bba338
2024-07-16T03:11:42.730+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.110729756S
2024-07-16T03:11:42.734+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T03:11:42.735+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T03:11:42.736+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T03:11:42.740+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T03:11:42.741+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T03:11:42.934+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 9bd80f8f55192bc267ae3d23e55df8a7713b994e5aac19c55e758985d002ff73
2024-07-16T03:11:43.346+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32769/test using query 'SELECT 1'
2024-07-16T03:12:01.274+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.534630437S
2024-07-16T03:12:01.275+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32769/test)
2024-07-16T03:12:03.192+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T03:12:03.235+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:12:03.242+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T03:12:03.244+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T03:12:03.336+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T03:12:03.344+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 25168 ms
2024-07-16T03:12:04.384+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T03:12:04.878+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6dd7af2f
2024-07-16T03:12:04.884+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T03:12:06.668+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T03:12:07.358+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:12:07.668+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T03:12:07.673+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1130127672
2024-07-16T03:12:07.681+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:12:07.777+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T03:12:07.837+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T03:12:07.840+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 60ms
2024-07-16T03:12:07.858+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T03:12:07.929+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:12:07.931+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 71ms
2024-07-16T03:12:07.955+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T03:12:08.019+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T03:12:08.021+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 65ms
2024-07-16T03:12:08.043+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T03:12:08.097+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T03:12:08.216+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T03:12:08.217+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 173ms
2024-07-16T03:12:08.235+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T03:12:08.310+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T03:12:08.431+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T03:12:08.449+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 210ms
2024-07-16T03:12:08.481+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T03:12:08.495+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:12:08.504+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:12:08.511+03:30 | ERROR | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan encountered an exception. liquibase.exception.DatabaseException: Unknown column 'creating_time' in 'field list' [Failed SQL: (1054) INSERT INTO simple_journal (id, amount_change, account_type, operation_type, account_id, reference_id, creating_time)---            VALUES (1, 100000.00, 0, 0, 1, 255, CURRENT_TIMESTAMP)]---	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:473)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:80)---	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:182)---	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)---	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1176)---	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:764)---	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:119)---	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:68)
2024-07-16T03:12:08.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T03:12:08.535+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          5
2024-07-16T03:12:08.536+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T03:12:08.536+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T03:12:08.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T03:12:08.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            5
2024-07-16T03:12:08.540+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T03:12:08.545+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command encountered an exception.
2024-07-16T03:12:08.560+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T03:12:08.575+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Logging exception.
2024-07-16T03:12:08.576+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Details
2024-07-16T03:12:08.582+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Class:  SQLSyntaxErrorException
2024-07-16T03:12:08.582+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Reason:  Unknown column 'creating_time' in 'field list'
2024-07-16T03:12:08.583+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ERROR: Exception Primary Source:  MySQL 8.0.38
2024-07-16T03:12:08.583+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T03:12:08.586+03:30 | WARN | [main] | o.s.c.s.AbstractApplicationContext | ,, | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan:     Reason: liquibase.exception.DatabaseException: Unknown column 'creating_time' in 'field list' [Failed SQL: (1054) INSERT INTO simple_journal (id, amount_change, account_type, operation_type, account_id, reference_id, creating_time)            VALUES (1, 100000.00, 0, 0, 1, 255, CURRENT_TIMESTAMP)]
2024-07-16T03:12:08.586+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T03:12:08.609+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T03:12:08.617+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Stopping service [Tomcat]
2024-07-16T03:12:08.698+03:30 | INFO | [main] | o.s.b.a.l.ConditionEvaluationReportLogger | ,, | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-16T03:12:08.782+03:30 | ERROR | [main] | o.s.b.SpringApplication | ,, | Application run failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan:---     Reason: liquibase.exception.DatabaseException: Unknown column 'creating_time' in 'field list' [Failed SQL: (1054) INSERT INTO simple_journal (id, amount_change, account_type, operation_type, account_id, reference_id, creating_time)---            VALUES (1, 100000.00, 0, 0, 1, 255, CURRENT_TIMESTAMP)]---	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)---	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)---	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)---	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)---	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)---	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)---	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
2024-07-16T03:12:08.815+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@3f4fd0dc] java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3725242e testClass = me.sepehrasadiyan.wallet_v2.IntegrationTest, locations = [], classes = [me.sepehrasadiyan.wallet_v2.WalletV2Application], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@6860c000 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, me.sepehrasadiyan.wallet_v2.ContainerConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4bef0fe3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@55b5f5d2, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1dd0e7c4, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@73db4768, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@dbd374af], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]---	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)---	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)---	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)---	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
2024-07-16T03:13:24.690+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T03:13:24.793+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 7260 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T03:13:24.806+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T03:13:26.728+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T03:13:26.859+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 117 ms. Found 3 JPA repository interfaces.
2024-07-16T03:13:27.168+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T03:13:27.172+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T03:13:27.329+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T03:13:27.750+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T03:13:27.753+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T03:13:27.797+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T03:13:27.863+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T03:13:27.869+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T03:13:28.173+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: a6817fe3b240d2f4186dcfa3deb23664a889ce79607ad8a5f6ee1cce3b1ab209
2024-07-16T03:13:28.722+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.858640024S
2024-07-16T03:13:28.729+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T03:13:28.730+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T03:13:28.731+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T03:13:28.738+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T03:13:28.742+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T03:13:28.908+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 58b4aaa978d157447f33a604acb9598a68698639a7618aaf4b0bc12203669a53
2024-07-16T03:13:29.412+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32771/test using query 'SELECT 1'
2024-07-16T03:13:47.193+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.455102183S
2024-07-16T03:13:47.193+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32771/test)
2024-07-16T03:13:48.645+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T03:13:48.678+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:13:48.682+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T03:13:48.683+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T03:13:48.749+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T03:13:48.751+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 23892 ms
2024-07-16T03:13:49.618+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T03:13:50.026+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4b74a4d
2024-07-16T03:13:50.028+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T03:13:51.051+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T03:13:51.566+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:13:51.806+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T03:13:51.811+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1130231810
2024-07-16T03:13:51.817+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:13:51.896+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T03:13:51.946+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T03:13:51.949+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 51ms
2024-07-16T03:13:51.968+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T03:13:51.995+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:13:52.004+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 33ms
2024-07-16T03:13:52.040+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T03:13:52.103+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T03:13:52.105+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 61ms
2024-07-16T03:13:52.125+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T03:13:52.172+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T03:13:52.298+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T03:13:52.300+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 174ms
2024-07-16T03:13:52.330+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T03:13:52.376+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T03:13:52.530+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T03:13:52.531+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 201ms
2024-07-16T03:13:52.542+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T03:13:52.562+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:13:52.570+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:13:52.575+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:13:52.582+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 39ms
2024-07-16T03:13:52.593+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T03:13:52.597+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:13:52.601+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:13:52.607+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:13:52.613+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 20ms
2024-07-16T03:13:52.630+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T03:13:52.631+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T03:13:52.631+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T03:13:52.632+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T03:13:52.632+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T03:13:52.632+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T03:13:52.634+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T03:13:52.637+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T03:13:52.639+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T03:13:52.650+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T03:13:52.652+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T03:13:52.854+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T03:13:52.977+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T03:13:53.023+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T03:13:53.583+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T03:13:53.676+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T03:13:53.680+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T03:13:55.424+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T03:13:55.428+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:13:56.574+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T03:13:58.441+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T03:13:58.442+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T03:13:58.468+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T03:13:58.529+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 87 ms
2024-07-16T03:13:58.688+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:13:58.724+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36027 (http) with context path '/'
2024-07-16T03:13:58.765+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 34.837 seconds (process running for 37.677)
2024-07-16T03:14:00.376+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66965d009c2d4ce04db5feeb66261c31,4db5feeb66261c31, | user.status : with message : user is not enabled
2024-07-16T03:14:00.405+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66965d00099ee71040e0d5bd960bc76a,40e0d5bd960bc76a, | no.user.found: with  key : 145
2024-07-16T03:14:00.496+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T03:14:00.502+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T03:14:00.519+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:14:00.526+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T03:14:00.546+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T03:37:32.615+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T03:37:32.704+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 9080 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T03:37:32.711+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T03:37:34.763+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T03:37:34.866+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 89 ms. Found 3 JPA repository interfaces.
2024-07-16T03:37:35.197+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T03:37:35.202+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T03:37:35.408+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T03:37:35.862+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T03:37:35.865+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T03:37:35.887+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T03:37:35.923+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T03:37:35.928+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T03:37:36.213+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 9af2f06926e7facbc746647ad334c6cd0d9a68b8f93e18adac61569ec3a186a4
2024-07-16T03:37:36.870+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.947334897S
2024-07-16T03:37:36.877+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T03:37:36.878+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T03:37:36.879+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T03:37:36.884+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T03:37:36.886+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T03:37:37.052+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 9466ebd845b7638af87fb63b2f72f4ef9c214136838a40a5876d41402befb811
2024-07-16T03:37:37.676+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32773/test using query 'SELECT 1'
2024-07-16T03:37:55.874+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.990370986S
2024-07-16T03:37:55.875+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32773/test)
2024-07-16T03:37:57.188+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T03:37:57.231+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:37:57.236+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T03:37:57.237+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T03:37:57.332+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T03:37:57.336+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 24582 ms
2024-07-16T03:37:58.132+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T03:37:58.592+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f510929
2024-07-16T03:37:58.594+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T03:37:59.631+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T03:38:00.125+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:38:00.366+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T03:38:00.369+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1131680368
2024-07-16T03:38:00.373+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:38:00.420+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T03:38:00.478+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T03:38:00.480+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 58ms
2024-07-16T03:38:00.497+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T03:38:00.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:38:00.540+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 40ms
2024-07-16T03:38:00.557+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T03:38:00.605+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T03:38:00.607+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 50ms
2024-07-16T03:38:00.640+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T03:38:00.696+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T03:38:00.812+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T03:38:00.814+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 173ms
2024-07-16T03:38:00.833+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T03:38:00.889+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T03:38:01.003+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T03:38:01.004+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 171ms
2024-07-16T03:38:01.018+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T03:38:01.032+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:38:01.051+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:38:01.060+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:38:01.067+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 46ms
2024-07-16T03:38:01.092+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T03:38:01.100+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:38:01.105+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:38:01.125+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:38:01.139+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 45ms
2024-07-16T03:38:01.162+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T03:38:01.163+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T03:38:01.163+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T03:38:01.163+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T03:38:01.164+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T03:38:01.164+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T03:38:01.174+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T03:38:01.177+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T03:38:01.178+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T03:38:01.187+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T03:38:01.189+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T03:38:01.414+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T03:38:01.472+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T03:38:01.520+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T03:38:01.963+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T03:38:02.043+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T03:38:02.047+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T03:38:03.294+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T03:38:03.298+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:38:04.160+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T03:38:05.001+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T03:38:06.720+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T03:38:06.721+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T03:38:06.742+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T03:38:06.784+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 62 ms
2024-07-16T03:38:06.912+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:38:06.957+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 34601 (http) with context path '/'
2024-07-16T03:38:07.001+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 35.172 seconds (process running for 37.941)
2024-07-16T03:38:08.111+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 669662a83c3b7d67600a463546493c3a,600a463546493c3a, | user.status : with message : user is not enabled
2024-07-16T03:38:08.144+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 669662a8c1330cf6eb68a43a7f4320f2,eb68a43a7f4320f2, | no.user.found: with  key : 145
2024-07-16T03:38:08.225+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T03:38:08.238+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T03:38:08.250+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:38:08.255+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T03:38:08.357+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T03:40:49.875+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T03:40:49.958+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 9918 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T03:40:49.965+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T03:40:51.788+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T03:40:51.897+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 94 ms. Found 3 JPA repository interfaces.
2024-07-16T03:40:52.210+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T03:40:52.214+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T03:40:52.393+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T03:40:52.862+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T03:40:52.865+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T03:40:52.934+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T03:40:52.991+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T03:40:52.999+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T03:40:53.437+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: f1668b7aa5725b63b1a1f42cac3b8779ce55dc977d7acfab878f8ebe4d0a895b
2024-07-16T03:40:54.029+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.038088597S
2024-07-16T03:40:54.037+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T03:40:54.038+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T03:40:54.039+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T03:40:54.045+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T03:40:54.047+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T03:40:54.225+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 38d72dbcca9cbffac9e1fec5d29b4b35086435f311477d4f88c0cbc2573ce6c1
2024-07-16T03:40:54.780+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32775/test using query 'SELECT 1'
2024-07-16T03:41:16.866+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.821764109S
2024-07-16T03:41:16.867+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32775/test)
2024-07-16T03:41:18.212+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T03:41:18.262+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:41:18.267+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T03:41:18.268+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T03:41:18.360+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T03:41:18.363+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28355 ms
2024-07-16T03:41:19.262+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T03:41:19.663+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2472ba04
2024-07-16T03:41:19.665+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T03:41:20.841+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T03:41:21.467+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:41:21.773+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T03:41:21.775+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1131881775
2024-07-16T03:41:21.780+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:41:21.833+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T03:41:21.968+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T03:41:21.970+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 134ms
2024-07-16T03:41:21.991+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T03:41:22.029+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:41:22.031+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 39ms
2024-07-16T03:41:22.052+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T03:41:22.131+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T03:41:22.132+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 79ms
2024-07-16T03:41:22.149+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T03:41:22.222+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T03:41:22.411+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T03:41:22.412+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 263ms
2024-07-16T03:41:22.435+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T03:41:22.520+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T03:41:22.710+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T03:41:22.711+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 272ms
2024-07-16T03:41:22.726+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T03:41:22.733+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:41:22.741+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:41:22.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:41:22.755+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 28ms
2024-07-16T03:41:22.766+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T03:41:22.773+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:41:22.778+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:41:22.783+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:41:22.797+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 30ms
2024-07-16T03:41:22.818+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T03:41:22.819+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T03:41:22.819+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T03:41:22.820+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T03:41:22.820+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T03:41:22.820+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T03:41:22.822+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T03:41:22.826+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T03:41:22.827+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T03:41:22.857+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T03:41:22.859+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T03:41:23.148+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T03:41:23.206+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T03:41:23.245+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T03:41:23.627+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T03:41:23.681+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T03:41:23.683+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T03:41:25.192+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T03:41:25.197+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:41:26.143+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T03:41:27.147+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T03:41:28.813+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T03:41:28.815+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T03:41:28.842+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T03:41:28.899+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 83 ms
2024-07-16T03:41:29.048+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:41:29.074+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 46201 (http) with context path '/'
2024-07-16T03:41:29.113+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 40.149 seconds (process running for 43.541)
2024-07-16T03:41:29.126+03:30 | WARN | [main] | o.s.t.c.TestContextManager | ,, | Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [me.sepehrasadiyan.wallet_v2.IntegrationTest@733fc5af] org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'me.sepehrasadiyan.wallet_v2.IntegrationTest': Unsatisfied dependency expressed through field 'ledgerSchedule': No qualifying bean of type 'me.sepehrasadiyan.wallet_v2.services.schedule.LedgerSchedule' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}---	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)---	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)---	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)---	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)---	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421)---	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:398)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:143)---	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)---	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
2024-07-16T03:41:29.169+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T03:41:29.173+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T03:41:29.186+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:41:29.190+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T03:41:29.227+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T03:42:43.625+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T03:42:43.747+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 10617 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T03:42:43.754+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T03:42:45.653+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T03:42:45.781+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 113 ms. Found 3 JPA repository interfaces.
2024-07-16T03:42:46.164+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T03:42:46.167+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T03:42:46.305+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T03:42:46.686+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T03:42:46.687+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T03:42:46.710+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T03:42:46.765+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T03:42:46.774+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T03:42:47.097+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 5c4c70d20e23070f1856b6a3c930686b0a82901f73a47586120e16204b4ffd6f
2024-07-16T03:42:47.786+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.020215629S
2024-07-16T03:42:47.796+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T03:42:47.797+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T03:42:47.799+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T03:42:47.805+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T03:42:47.809+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T03:42:47.967+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 96536d110aab910f1d6c6df3be343e059ae776228aa2fd884e723a13ead70277
2024-07-16T03:42:48.512+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32777/test using query 'SELECT 1'
2024-07-16T03:43:09.394+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT21.589210566S
2024-07-16T03:43:09.395+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32777/test)
2024-07-16T03:43:10.695+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T03:43:10.730+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:43:10.735+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T03:43:10.736+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T03:43:10.856+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T03:43:10.860+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 27065 ms
2024-07-16T03:43:11.719+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T03:43:12.079+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@11e75942
2024-07-16T03:43:12.082+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T03:43:13.112+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T03:43:13.680+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:43:13.951+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T03:43:13.954+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1131993953
2024-07-16T03:43:13.959+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:43:14.006+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T03:43:14.088+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T03:43:14.090+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 82ms
2024-07-16T03:43:14.105+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T03:43:14.131+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:43:14.134+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 27ms
2024-07-16T03:43:14.151+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T03:43:14.206+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T03:43:14.208+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 56ms
2024-07-16T03:43:14.232+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T03:43:14.286+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T03:43:14.397+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T03:43:14.398+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 162ms
2024-07-16T03:43:14.415+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T03:43:14.473+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T03:43:14.595+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T03:43:14.596+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 176ms
2024-07-16T03:43:14.614+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T03:43:14.635+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:43:14.652+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:43:14.660+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:43:14.670+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 55ms
2024-07-16T03:43:14.690+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T03:43:14.697+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:43:14.702+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:43:14.708+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:43:14.715+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 23ms
2024-07-16T03:43:14.729+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T03:43:14.729+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T03:43:14.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T03:43:14.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T03:43:14.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T03:43:14.731+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T03:43:14.732+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T03:43:14.734+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T03:43:14.735+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T03:43:14.745+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T03:43:14.746+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T03:43:14.994+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T03:43:15.069+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T03:43:15.123+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T03:43:15.627+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T03:43:15.677+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T03:43:15.679+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T03:43:17.398+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T03:43:17.402+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:43:18.714+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T03:43:19.514+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T03:43:21.342+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T03:43:21.343+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T03:43:21.363+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T03:43:21.413+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 69 ms
2024-07-16T03:43:21.516+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:43:21.535+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 36545 (http) with context path '/'
2024-07-16T03:43:21.599+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 38.732 seconds (process running for 41.788)
2024-07-16T03:43:23.016+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 669663e31558ab70e952b32ba1acc86b,e952b32ba1acc86b, | user.status : with message : user is not enabled
2024-07-16T03:43:23.061+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 669663e30ca400c4008f25f72ecbd44d,008f25f72ecbd44d, | no.user.found: with  key : 145
2024-07-16T03:43:23.227+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 300000.00
2024-07-16T03:43:23.237+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T03:43:23.245+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T03:43:23.267+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:43:23.273+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T03:43:23.323+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T03:44:17.338+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T03:44:17.404+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 11349 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T03:44:17.409+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T03:44:19.252+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T03:44:19.341+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 79 ms. Found 3 JPA repository interfaces.
2024-07-16T03:44:19.758+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T03:44:19.762+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T03:44:19.990+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T03:44:20.414+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T03:44:20.417+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T03:44:20.443+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T03:44:20.486+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T03:44:20.495+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T03:44:20.938+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 65c95b8ac37d0b47047f7b2f193f8e64e825e56fd1cbe1928d3d9ba93d7049dd
2024-07-16T03:44:21.631+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.144917269S
2024-07-16T03:44:21.635+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T03:44:21.636+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T03:44:21.637+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T03:44:21.641+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T03:44:21.643+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T03:44:21.800+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 6e2fc26d70a623f7972c540e518a0ccb25d1a22d3568215b6266cbb4c4ec3e82
2024-07-16T03:44:22.243+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32779/test using query 'SELECT 1'
2024-07-16T03:44:38.675+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT17.034562193S
2024-07-16T03:44:38.676+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32779/test)
2024-07-16T03:44:40.010+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T03:44:40.033+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:44:40.036+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T03:44:40.037+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T03:44:40.114+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T03:44:40.117+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 22685 ms
2024-07-16T03:44:40.956+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T03:44:41.438+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2472ba04
2024-07-16T03:44:41.440+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T03:44:42.450+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T03:44:43.091+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:44:43.367+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T03:44:43.369+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1132083369
2024-07-16T03:44:43.374+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T03:44:43.418+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T03:44:43.468+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T03:44:43.470+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 50ms
2024-07-16T03:44:43.501+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T03:44:43.532+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:44:43.535+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 32ms
2024-07-16T03:44:43.548+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T03:44:43.597+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T03:44:43.598+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 49ms
2024-07-16T03:44:43.623+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T03:44:43.677+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T03:44:43.785+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T03:44:43.787+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 163ms
2024-07-16T03:44:43.803+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T03:44:43.852+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T03:44:44.005+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T03:44:44.007+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 204ms
2024-07-16T03:44:44.020+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T03:44:44.034+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:44:44.041+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:44:44.047+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:44:44.055+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 33ms
2024-07-16T03:44:44.065+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T03:44:44.070+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:44:44.073+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:44:44.085+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T03:44:44.090+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 25ms
2024-07-16T03:44:44.109+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T03:44:44.109+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T03:44:44.110+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T03:44:44.110+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T03:44:44.110+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T03:44:44.111+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T03:44:44.112+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T03:44:44.116+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T03:44:44.116+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T03:44:44.126+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T03:44:44.128+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T03:44:44.401+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T03:44:44.497+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T03:44:44.553+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T03:44:45.044+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T03:44:45.106+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T03:44:45.108+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T03:44:46.454+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T03:44:46.459+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:44:47.151+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T03:44:48.062+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T03:44:49.729+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T03:44:49.730+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T03:44:49.753+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T03:44:49.799+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 68 ms
2024-07-16T03:44:49.898+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T03:44:49.917+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 35297 (http) with context path '/'
2024-07-16T03:44:49.950+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 33.355 seconds (process running for 35.945)
2024-07-16T03:44:51.390+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 6696643bded61e554f9ccf3536e88e8e,4f9ccf3536e88e8e, | user.status : with message : user is not enabled
2024-07-16T03:44:51.426+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 6696643b0bbc98974bc9ef67cad4562e,4bc9ef67cad4562e, | no.user.found: with  key : 145
2024-07-16T03:44:51.501+03:30 | INFO | [main] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 0
2024-07-16T03:44:54.524+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T03:44:54.527+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T03:44:54.542+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T03:44:54.547+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T03:44:54.570+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T04:00:15.268+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T04:00:15.368+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 12374 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T04:00:15.373+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T04:00:17.290+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T04:00:17.395+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 92 ms. Found 3 JPA repository interfaces.
2024-07-16T04:00:17.703+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T04:00:17.708+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T04:00:17.874+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T04:00:18.331+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T04:00:18.333+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T04:00:18.353+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T04:00:18.391+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T04:00:18.399+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T04:00:18.614+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 205deb14f1383b9a942356877889f8fca8971fa35c0c1de71f86137fd7780887
2024-07-16T04:00:19.242+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.850867196S
2024-07-16T04:00:19.248+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T04:00:19.248+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T04:00:19.249+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T04:00:19.253+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T04:00:19.254+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T04:00:19.387+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 7f8badd8e18a72604f1e996077235134adb28e221416cf4a276a5a97c6dcb4f6
2024-07-16T04:00:19.826+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32781/test using query 'SELECT 1'
2024-07-16T04:00:37.946+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.693638231S
2024-07-16T04:00:37.949+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32781/test)
2024-07-16T04:00:39.307+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T04:00:39.353+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:00:39.359+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T04:00:39.360+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T04:00:39.446+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T04:00:39.449+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 24055 ms
2024-07-16T04:00:40.221+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T04:00:40.590+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7f5c4ff8
2024-07-16T04:00:40.592+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T04:00:41.773+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T04:00:42.477+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:00:42.732+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T04:00:42.735+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1133042735
2024-07-16T04:00:42.740+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:00:42.786+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T04:00:42.835+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T04:00:42.837+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 48ms
2024-07-16T04:00:42.852+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T04:00:42.883+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:00:42.888+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 35ms
2024-07-16T04:00:42.910+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T04:00:42.963+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T04:00:42.965+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 54ms
2024-07-16T04:00:43.005+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T04:00:43.055+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T04:00:43.164+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T04:00:43.165+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 160ms
2024-07-16T04:00:43.181+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T04:00:43.237+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T04:00:43.348+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T04:00:43.349+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 167ms
2024-07-16T04:00:43.361+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T04:00:43.375+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:00:43.384+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:00:43.390+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:00:43.397+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 34ms
2024-07-16T04:00:43.408+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T04:00:43.418+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:00:43.428+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:00:43.459+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:00:43.466+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 57ms
2024-07-16T04:00:43.484+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T04:00:43.485+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T04:00:43.485+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T04:00:43.485+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T04:00:43.486+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T04:00:43.486+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T04:00:43.488+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T04:00:43.492+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T04:00:43.493+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T04:00:43.504+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T04:00:43.507+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T04:00:43.738+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T04:00:43.804+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T04:00:43.843+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T04:00:44.221+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T04:00:44.293+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T04:00:44.297+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T04:00:45.681+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T04:00:45.685+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:00:46.657+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T04:00:47.594+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T04:00:49.421+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T04:00:49.422+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T04:00:49.448+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T04:00:49.509+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 87 ms
2024-07-16T04:00:49.665+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:00:49.698+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 39939 (http) with context path '/'
2024-07-16T04:00:49.729+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 35.26 seconds (process running for 37.753)
2024-07-16T04:00:51.090+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 669667fbcdefd24114ffeafd013ad86f,14ffeafd013ad86f, | user.status : with message : user is not enabled
2024-07-16T04:00:51.138+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 669667fb71c3ee868d48c1dffd8b2556,8d48c1dffd8b2556, | no.user.found: with  key : 145
2024-07-16T04:00:51.208+03:30 | INFO | [main] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 0
2024-07-16T04:00:54.248+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T04:00:54.252+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T04:00:54.266+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:00:54.270+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T04:00:54.290+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T04:02:37.581+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T04:02:37.669+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 13118 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T04:02:37.676+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T04:02:39.583+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T04:02:39.684+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 88 ms. Found 3 JPA repository interfaces.
2024-07-16T04:02:40.012+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T04:02:40.015+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T04:02:40.180+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T04:02:40.576+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T04:02:40.579+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T04:02:40.596+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T04:02:40.633+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T04:02:40.639+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T04:02:40.900+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: fee4e0d57265cf1afebc5812217b897955f73aef98f41c4113de84a0e289ce17
2024-07-16T04:02:41.654+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.0212925S
2024-07-16T04:02:41.667+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T04:02:41.668+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T04:02:41.671+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T04:02:41.677+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T04:02:41.679+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T04:02:41.854+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 9c55f886e470c2a0124eef267af51bd5963fac06f77c2bafe8b1830dc393d1d0
2024-07-16T04:02:42.280+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32783/test using query 'SELECT 1'
2024-07-16T04:03:00.648+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.971101483S
2024-07-16T04:03:00.648+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32783/test)
2024-07-16T04:03:02.008+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T04:03:02.037+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:03:02.042+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T04:03:02.058+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T04:03:02.169+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T04:03:02.173+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 24463 ms
2024-07-16T04:03:03.091+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T04:03:03.635+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2472ba04
2024-07-16T04:03:03.639+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T04:03:04.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T04:03:05.427+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:03:05.762+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T04:03:05.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1133185764
2024-07-16T04:03:05.768+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:03:05.815+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T04:03:05.869+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T04:03:05.873+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 56ms
2024-07-16T04:03:05.887+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T04:03:05.923+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:03:05.926+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 37ms
2024-07-16T04:03:05.949+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T04:03:06.004+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T04:03:06.005+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 55ms
2024-07-16T04:03:06.030+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T04:03:06.081+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T04:03:06.189+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T04:03:06.190+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 158ms
2024-07-16T04:03:06.205+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T04:03:06.255+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T04:03:06.373+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T04:03:06.375+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 168ms
2024-07-16T04:03:06.387+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T04:03:06.394+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:03:06.401+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:03:06.409+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:03:06.417+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 28ms
2024-07-16T04:03:06.432+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T04:03:06.440+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:03:06.448+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:03:06.454+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:03:06.464+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 30ms
2024-07-16T04:03:06.488+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T04:03:06.488+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T04:03:06.489+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T04:03:06.490+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T04:03:06.490+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T04:03:06.491+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T04:03:06.492+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T04:03:06.497+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T04:03:06.498+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T04:03:06.510+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T04:03:06.513+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T04:03:06.845+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T04:03:06.941+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T04:03:07.019+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T04:03:07.626+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T04:03:07.730+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T04:03:07.734+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T04:03:09.032+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T04:03:09.037+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:03:09.954+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T04:03:10.694+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T04:03:12.452+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T04:03:12.452+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T04:03:12.480+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T04:03:12.524+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 70 ms
2024-07-16T04:03:12.684+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:03:12.710+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 33001 (http) with context path '/'
2024-07-16T04:03:12.750+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 35.935 seconds (process running for 38.401)
2024-07-16T04:03:13.979+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66966889c0957acc988921ddc6a7a49f,988921ddc6a7a49f, | user.status : with message : user is not enabled
2024-07-16T04:03:14.017+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 6696688af444af2240db3256db7b8798,40db3256db7b8798, | no.user.found: with  key : 145
2024-07-16T04:03:14.108+03:30 | INFO | [main] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 0
2024-07-16T04:03:14.176+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | The batchPrice 300000.00
2024-07-16T04:03:17.127+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T04:03:17.130+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T04:03:17.157+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:03:17.168+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T04:03:17.238+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T04:04:25.375+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T04:04:25.503+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 13842 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T04:04:25.515+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T04:04:27.466+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T04:04:27.569+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.
2024-07-16T04:04:27.842+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T04:04:27.846+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T04:04:28.004+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T04:04:28.484+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T04:04:28.487+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T04:04:28.520+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T04:04:28.577+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T04:04:28.589+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T04:04:28.951+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 4c953d3a1e3abc379f5f7f317923f4d905a749d32a395ad9ce75922fa9cc7671
2024-07-16T04:04:29.548+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.970596993S
2024-07-16T04:04:29.556+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T04:04:29.557+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T04:04:29.558+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T04:04:29.564+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T04:04:29.568+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T04:04:29.741+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 768453d964690597f009d0f5d741189a1e9283475a4a937b7a2145355152f2de
2024-07-16T04:04:30.382+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32785/test using query 'SELECT 1'
2024-07-16T04:04:48.822+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT19.25808521S
2024-07-16T04:04:48.823+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32785/test)
2024-07-16T04:04:50.098+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T04:04:50.128+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:04:50.131+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T04:04:50.132+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T04:04:50.197+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T04:04:50.200+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 24650 ms
2024-07-16T04:04:51.074+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T04:04:51.603+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@f047670
2024-07-16T04:04:51.605+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T04:04:52.658+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T04:04:53.152+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:04:53.446+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T04:04:53.448+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1133293448
2024-07-16T04:04:53.452+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:04:53.497+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T04:04:53.543+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T04:04:53.546+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 47ms
2024-07-16T04:04:53.560+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T04:04:53.591+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:04:53.592+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 31ms
2024-07-16T04:04:53.607+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T04:04:53.657+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T04:04:53.658+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 51ms
2024-07-16T04:04:53.681+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T04:04:53.724+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T04:04:53.843+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T04:04:53.844+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 162ms
2024-07-16T04:04:53.859+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T04:04:53.905+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T04:04:54.007+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T04:04:54.008+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 148ms
2024-07-16T04:04:54.018+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T04:04:54.024+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:04:54.032+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:04:54.037+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:04:54.047+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 28ms
2024-07-16T04:04:54.068+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T04:04:54.076+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:04:54.082+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:04:54.089+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:04:54.099+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 30ms
2024-07-16T04:04:54.131+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T04:04:54.132+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T04:04:54.132+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T04:04:54.133+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T04:04:54.133+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T04:04:54.134+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T04:04:54.136+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T04:04:54.140+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T04:04:54.140+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T04:04:54.153+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T04:04:54.155+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T04:04:54.326+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T04:04:54.409+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T04:04:54.453+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T04:04:54.968+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T04:04:55.034+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T04:04:55.037+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T04:04:56.245+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T04:04:56.249+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:04:57.052+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T04:04:58.003+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T04:04:59.771+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T04:04:59.772+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T04:04:59.818+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T04:04:59.863+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 91 ms
2024-07-16T04:04:59.970+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:05:00.051+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 45195 (http) with context path '/'
2024-07-16T04:05:00.088+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 35.458 seconds (process running for 38.038)
2024-07-16T04:05:01.479+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 669668f52315ae176a5d1fee1932ac59,6a5d1fee1932ac59, | user.status : with message : user is not enabled
2024-07-16T04:05:01.511+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 669668f513579772fd664d8e142b7c31,fd664d8e142b7c31, | no.user.found: with  key : 145
2024-07-16T04:05:01.594+03:30 | INFO | [main] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 0
2024-07-16T04:05:01.647+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | The batchPrice 300000.00
2024-07-16T04:05:01.649+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | after update TotalPrice 300000.00
2024-07-16T04:05:04.622+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T04:05:04.625+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T04:05:04.639+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:05:04.643+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T04:05:04.673+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T04:10:00.264+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T04:10:00.338+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 14707 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T04:10:00.347+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T04:10:02.082+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T04:10:02.166+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 72 ms. Found 3 JPA repository interfaces.
2024-07-16T04:10:02.461+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T04:10:02.465+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T04:10:02.616+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T04:10:03.006+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T04:10:03.008+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T04:10:03.031+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T04:10:03.088+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T04:10:03.101+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T04:10:03.490+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 1cf979262e078e710a60a6026f77617e5c13bc41b5222162fb5ae4525ace72c9
2024-07-16T04:10:04.158+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT1.069082858S
2024-07-16T04:10:04.165+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T04:10:04.166+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T04:10:04.167+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T04:10:04.175+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T04:10:04.180+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T04:10:04.415+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 7fdaaa17f5b5bbbab049b360802c87806481a9e7a908fd217099640bcd86934a
2024-07-16T04:10:05.062+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32787/test using query 'SELECT 1'
2024-07-16T04:10:22.934+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT18.759187645S
2024-07-16T04:10:22.935+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32787/test)
2024-07-16T04:10:24.257+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T04:10:24.288+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:10:24.291+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T04:10:24.292+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T04:10:24.369+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T04:10:24.372+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 23971 ms
2024-07-16T04:10:25.549+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T04:10:25.974+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@949165f
2024-07-16T04:10:25.978+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T04:10:27.025+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T04:10:27.705+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:10:28.023+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T04:10:28.026+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1133628026
2024-07-16T04:10:28.031+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:10:28.078+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T04:10:28.128+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T04:10:28.131+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 50ms
2024-07-16T04:10:28.149+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T04:10:28.180+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:10:28.181+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 31ms
2024-07-16T04:10:28.195+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T04:10:28.254+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T04:10:28.257+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 61ms
2024-07-16T04:10:28.282+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T04:10:28.343+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T04:10:28.474+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T04:10:28.477+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 194ms
2024-07-16T04:10:28.492+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T04:10:28.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T04:10:28.639+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T04:10:28.642+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 148ms
2024-07-16T04:10:28.653+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T04:10:28.662+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:10:28.669+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:10:28.678+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:10:28.688+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 34ms
2024-07-16T04:10:28.710+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T04:10:28.717+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:10:28.722+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:10:28.729+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:10:28.735+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 24ms
2024-07-16T04:10:28.758+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T04:10:28.758+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T04:10:28.759+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T04:10:28.759+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T04:10:28.760+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T04:10:28.760+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T04:10:28.765+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T04:10:28.774+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T04:10:28.775+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T04:10:28.785+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T04:10:28.787+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T04:10:29.022+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T04:10:29.107+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T04:10:29.161+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T04:10:29.640+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T04:10:29.702+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T04:10:29.705+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T04:10:31.186+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T04:10:31.190+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:10:32.029+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T04:10:32.856+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T04:10:34.911+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T04:10:34.913+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T04:10:34.946+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T04:10:34.995+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 82 ms
2024-07-16T04:10:35.116+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:10:35.177+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 40833 (http) with context path '/'
2024-07-16T04:10:35.215+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 35.795 seconds (process running for 38.801)
2024-07-16T04:10:36.524+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66966a448b9752e97a0bd3c4db1b41a5,7a0bd3c4db1b41a5, | user.status : with message : user is not enabled
2024-07-16T04:10:36.560+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66966a44db778664d7a43ecb04d628f7,d7a43ecb04d628f7, | no.user.found: with  key : 145
2024-07-16T04:10:36.640+03:30 | INFO | [main] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 0
2024-07-16T04:10:36.684+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | The batchPrice 300000.00
2024-07-16T04:10:36.686+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | after update TotalPrice 300000.00
2024-07-16T04:10:39.662+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T04:10:39.665+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T04:10:39.697+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:10:39.702+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T04:10:39.798+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T04:11:40.709+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T04:11:40.769+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 15431 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T04:11:40.774+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T04:11:42.749+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T04:11:42.846+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 86 ms. Found 3 JPA repository interfaces.
2024-07-16T04:11:43.141+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T04:11:43.144+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T04:11:43.294+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T04:11:43.747+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T04:11:43.750+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T04:11:43.781+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T04:11:43.828+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T04:11:43.836+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T04:11:44.109+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 203a9bba4fbe85b1fb14f40bd8d899903e68a7b529ad0fa8fd157488f2ccf6da
2024-07-16T04:11:44.766+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.938067265S
2024-07-16T04:11:44.773+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T04:11:44.774+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T04:11:44.775+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T04:11:44.779+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T04:11:44.782+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T04:11:44.925+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 51e736656acf95027523e405c146e320f150a298189605b591b9a66891dc8042
2024-07-16T04:11:45.340+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32789/test using query 'SELECT 1'
2024-07-16T04:12:03.783+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT19.004021122S
2024-07-16T04:12:03.784+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32789/test)
2024-07-16T04:12:05.211+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T04:12:05.248+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:12:05.253+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T04:12:05.254+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T04:12:05.337+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T04:12:05.340+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 24544 ms
2024-07-16T04:12:06.238+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T04:12:06.647+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47f677a4
2024-07-16T04:12:06.649+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T04:12:07.689+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T04:12:08.254+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:12:08.534+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T04:12:08.537+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1133728536
2024-07-16T04:12:08.542+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:12:08.597+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T04:12:08.671+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T04:12:08.673+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 74ms
2024-07-16T04:12:08.690+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T04:12:08.728+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:12:08.730+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 38ms
2024-07-16T04:12:08.749+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T04:12:08.802+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T04:12:08.805+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 53ms
2024-07-16T04:12:08.832+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T04:12:08.884+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T04:12:09.013+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T04:12:09.015+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 181ms
2024-07-16T04:12:09.031+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T04:12:09.084+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T04:12:09.191+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T04:12:09.192+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 161ms
2024-07-16T04:12:09.201+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T04:12:09.207+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:12:09.214+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:12:09.220+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:12:09.228+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 26ms
2024-07-16T04:12:09.244+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T04:12:09.253+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:12:09.261+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:12:09.267+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:12:09.275+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 30ms
2024-07-16T04:12:09.294+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T04:12:09.295+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T04:12:09.295+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T04:12:09.295+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T04:12:09.296+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T04:12:09.296+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T04:12:09.297+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T04:12:09.302+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T04:12:09.302+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T04:12:09.312+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T04:12:09.313+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T04:12:09.522+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T04:12:09.611+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T04:12:09.666+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T04:12:10.087+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T04:12:10.152+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T04:12:10.154+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T04:12:11.718+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T04:12:11.724+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:12:12.472+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T04:12:13.486+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T04:12:15.166+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T04:12:15.167+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T04:12:15.193+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T04:12:15.250+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 82 ms
2024-07-16T04:12:15.380+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:12:15.418+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 39547 (http) with context path '/'
2024-07-16T04:12:15.464+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 35.468 seconds (process running for 38.205)
2024-07-16T04:12:16.634+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66966aa8bba6629c96d16a0cd7ed667c,96d16a0cd7ed667c, | user.status : with message : user is not enabled
2024-07-16T04:12:16.683+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66966aa8a38ca8d9c8513f82a0c21556,c8513f82a0c21556, | no.user.found: with  key : 145
2024-07-16T04:12:16.795+03:30 | INFO | [main] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 0
2024-07-16T04:12:16.853+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T04:12:16.861+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T04:12:16.888+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:12:16.894+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T04:12:16.907+03:30 | ERROR | [] | m.s.w.s.s.LedgerSchedule | ,, | Failed to process batch: Session/EntityManager is closed
2024-07-16T04:12:16.933+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
2024-07-16T04:16:15.489+03:30 | INFO | [background-preinit] | o.h.v.i.u.Version | ,, | HV000001: Hibernate Validator 8.0.1.Final
2024-07-16T04:16:15.681+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Starting IntegrationTest using Java 21.0.1 with PID 16256 (started by madara in /home/madara/blu/wallet-v2)
2024-07-16T04:16:15.688+03:30 | INFO | [main] | o.s.b.SpringApplication | ,, | The following 1 profile is active: "test"
2024-07-16T04:16:17.469+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16T04:16:17.582+03:30 | INFO | [main] | o.s.d.r.c.RepositoryConfigurationDelegate | ,, | Finished Spring Data repository scanning in 100 ms. Found 3 JPA repository interfaces.
2024-07-16T04:16:17.918+03:30 | INFO | [main] | o.t.i.PullPolicy | ,, | Image pull policy will be performed by: DefaultPullPolicy()
2024-07-16T04:16:17.923+03:30 | INFO | [main] | o.t.u.ImageNameSubstitutor | ,, | Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2024-07-16T04:16:18.119+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2024-07-16T04:16:18.509+03:30 | INFO | [main] | o.t.d.DockerClientProviderStrategy | ,, | Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2024-07-16T04:16:18.514+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Docker host IP address is localhost
2024-07-16T04:16:18.537+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Connected to docker:   Server Version: 27.0.3  API Version: 1.46  Operating System: Ubuntu 20.04.6 LTS  Total Memory: 15898 MB
2024-07-16T04:16:18.571+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: testcontainers/ryuk:0.7.0
2024-07-16T04:16:18.576+03:30 | INFO | [main] | o.t.u.RegistryAuthLocator | ,, | Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.7.0, configFile: /home/madara/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /home/madara/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
2024-07-16T04:16:18.838+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 is starting: 96a57ad2200fd38b0348a9cfb4209a016914a01ba14e4da2e0ee6f270ca12998
2024-07-16T04:16:19.475+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container testcontainers/ryuk:0.7.0 started in PT0.903197824S
2024-07-16T04:16:19.481+03:30 | INFO | [main] | o.t.u.RyukResourceReaper | ,, | Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2024-07-16T04:16:19.481+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | Checking the system...
2024-07-16T04:16:19.482+03:30 | INFO | [main] | o.t.DockerClientFactory | ,, | ✔︎ Docker server version should be at least 1.6.0
2024-07-16T04:16:19.488+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Creating container for image: mysql:8.0
2024-07-16T04:16:19.490+03:30 | WARN | [main] | o.t.c.GenericContainer | ,, | Reuse was requested but the environment does not support the reuse of containersTo enable reuse of containers, you must set 'testcontainers.reuse.enable=true' in a file located at /home/madara/.testcontainers.properties
2024-07-16T04:16:19.617+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 is starting: 3e4dd3220857d63afbcde8422501e7c2ad72d76fa23b529bff795a2f2142abd2
2024-07-16T04:16:20.072+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Waiting for database connection to become available at jdbc:mysql://localhost:32791/test using query 'SELECT 1'
2024-07-16T04:16:42.377+03:30 | INFO | [main] | o.t.c.GenericContainer | ,, | Container mysql:8.0 started in PT22.889597828S
2024-07-16T04:16:42.378+03:30 | INFO | [main] | o.t.c.JdbcDatabaseContainer | ,, | Container is started (JDBC URL: jdbc:mysql://localhost:32791/test)
2024-07-16T04:16:43.739+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat initialized with port 0 (http)
2024-07-16T04:16:43.768+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:16:43.782+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting service [Tomcat]
2024-07-16T04:16:43.783+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-07-16T04:16:43.867+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring embedded WebApplicationContext
2024-07-16T04:16:43.870+03:30 | INFO | [main] | o.s.b.w.s.c.ServletWebServerApplicationContext | ,, | Root WebApplicationContext: initialization completed in 28153 ms
2024-07-16T04:16:44.703+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Starting...
2024-07-16T04:16:45.124+03:30 | INFO | [main] | c.z.h.p.HikariPool | ,, | HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23a78d2e
2024-07-16T04:16:45.127+03:30 | INFO | [main] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Start completed.
2024-07-16T04:16:46.158+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Creating database history table with name: test.DATABASECHANGELOG
2024-07-16T04:16:46.773+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:16:47.125+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully acquired change log lock
2024-07-16T04:16:47.130+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Using deploymentId: 1134007129
2024-07-16T04:16:47.137+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Reading from test.DATABASECHANGELOG
2024-07-16T04:16:47.191+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan
2024-07-16T04:16:47.309+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table reference_number_seq created
2024-07-16T04:16:47.311+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-table::s.asadiyan ran successfully in 118ms
2024-07-16T04:16:47.331+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan
2024-07-16T04:16:47.378+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:16:47.379+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_sequence.xml::create-sequence-procedure::s.asadiyan ran successfully in 47ms
2024-07-16T04:16:47.404+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::2::s.asadiyan
2024-07-16T04:16:47.480+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_user created
2024-07-16T04:16:47.481+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::2::s.asadiyan ran successfully in 76ms
2024-07-16T04:16:47.498+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::3::s.asadiyan
2024-07-16T04:16:47.572+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_account created
2024-07-16T04:16:47.763+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_account (user_id)
2024-07-16T04:16:47.764+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::3::s.asadiyan ran successfully in 266ms
2024-07-16T04:16:47.784+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_tables.xml::1::s.asadiyan
2024-07-16T04:16:47.858+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Table simple_journal created
2024-07-16T04:16:48.037+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Foreign key constraint added to simple_journal (account_id)
2024-07-16T04:16:48.038+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_tables.xml::1::s.asadiyan ran successfully in 253ms
2024-07-16T04:16:48.054+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan
2024-07-16T04:16:48.059+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:16:48.066+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:16:48.071+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:16:48.080+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-default-user::s.asadiyan ran successfully in 26ms
2024-07-16T04:16:48.091+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Running Changeset: db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan
2024-07-16T04:16:48.097+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:16:48.101+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:16:48.106+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Custom SQL executed
2024-07-16T04:16:48.121+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | ChangeSet db.changelog/changes/create_init_data.xml::insert-suspend-user::s.asadiyan ran successfully in 28ms
2024-07-16T04:16:48.144+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | UPDATE SUMMARY
2024-07-16T04:16:48.145+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Run:                          7
2024-07-16T04:16:48.145+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Previously run:               0
2024-07-16T04:16:48.145+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Filtered out:                 0
2024-07-16T04:16:48.145+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | -------------------------------
2024-07-16T04:16:48.148+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Total change sets:            7
2024-07-16T04:16:48.150+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update summary generated
2024-07-16T04:16:48.152+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Update command completed successfully.
2024-07-16T04:16:48.153+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Liquibase: Update has been successful. Rows affected: 13
2024-07-16T04:16:48.166+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Successfully released change log lock
2024-07-16T04:16:48.168+03:30 | INFO | [main] | l.l.c.JavaLogger | ,, | Command execution complete
2024-07-16T04:16:48.393+03:30 | INFO | [main] | o.h.j.i.u.LogHelper | ,, | HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16T04:16:48.454+03:30 | INFO | [main] | o.h.Version | ,, | HHH000412: Hibernate ORM core version 6.5.2.Final
2024-07-16T04:16:48.493+03:30 | INFO | [main] | o.h.c.i.RegionFactoryInitiator | ,, | HHH000026: Second-level cache disabled
2024-07-16T04:16:48.889+03:30 | INFO | [main] | o.s.o.j.p.SpringPersistenceUnitInfo | ,, | No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-16T04:16:48.942+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-16T04:16:48.943+03:30 | WARN | [main] | o.h.e.j.d.i.DialectFactoryImpl | ,, | HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-07-16T04:16:50.456+03:30 | INFO | [main] | o.h.e.t.j.p.i.JtaPlatformInitiator | ,, | HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-16T04:16:50.461+03:30 | INFO | [main] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:16:51.348+03:30 | INFO | [main] | o.s.d.j.r.q.QueryEnhancerFactory | ,, | Hibernate is in classpath; If applicable, HQL parser will be used.
2024-07-16T04:16:52.314+03:30 | WARN | [main] | o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration | ,, | spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16T04:16:54.070+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Initializing Spring TestDispatcherServlet ''
2024-07-16T04:16:54.071+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Initializing Servlet ''
2024-07-16T04:16:54.094+03:30 | INFO | [main] | o.s.b.a.e.w.EndpointLinksResolver | ,, | Exposing 16 endpoints beneath base path '/actuator'
2024-07-16T04:16:54.131+03:30 | INFO | [main] | o.s.w.s.FrameworkServlet | ,, | Completed initialization in 59 ms
2024-07-16T04:16:54.248+03:30 | INFO | [main] | o.a.j.l.DirectJDKLog | ,, | Starting ProtocolHandler ["http-nio-auto-1"]
2024-07-16T04:16:54.270+03:30 | INFO | [main] | o.s.b.w.e.t.TomcatWebServer | ,, | Tomcat started on port 46677 (http) with context path '/'
2024-07-16T04:16:54.308+03:30 | INFO | [main] | o.s.b.StartupInfoLogger | ,, | Started IntegrationTest in 39.551 seconds (process running for 42.083)
2024-07-16T04:16:55.668+03:30 | ERROR | [main] | m.s.w.e.UserStatusException | 66966bbf676b0d660fdb00d4138f51b3,0fdb00d4138f51b3, | user.status : with message : user is not enabled
2024-07-16T04:16:55.700+03:30 | ERROR | [main] | m.s.w.e.UserNotFoundException | 66966bbf518ba9784ff5ffdb8a3c463a,4ff5ffdb8a3c463a, | no.user.found: with  key : 145
2024-07-16T04:16:55.800+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | The batchPrice 300000.00
2024-07-16T04:16:55.802+03:30 | INFO | [] | m.s.w.s.s.LedgerSchedule | ,, | after update TotalPrice 300000.00
2024-07-16T04:16:55.802+03:30 | INFO | [main] | m.s.w.s.s.LedgerSchedule | ,, | Total amount_change from the last 24 hours: 300000.00
2024-07-16T04:16:55.822+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.b.w.e.t.GracefulShutdown | ,, | Commencing graceful shutdown. Waiting for active requests to complete
2024-07-16T04:16:55.826+03:30 | INFO | [tomcat-shutdown] | o.s.b.w.e.t.GracefulShutdown | ,, | Graceful shutdown complete
2024-07-16T04:16:55.842+03:30 | INFO | [SpringApplicationShutdownHook] | o.s.o.j.AbstractEntityManagerFactoryBean | ,, | Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16T04:16:55.850+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown initiated...
2024-07-16T04:16:55.944+03:30 | INFO | [SpringApplicationShutdownHook] | c.z.h.HikariDataSource | ,, | HikariPool-1 - Shutdown completed.
